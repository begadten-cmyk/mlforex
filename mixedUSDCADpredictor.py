import pandas as pd
import numpy as np
import datetime

from sklearn.multioutput import MultiOutputRegressor
from sklearn.linear_model import LinearRegression

############################################################################
# 1) FULL DATA (2023-01-02 -> 2025-01-02),
#    EXACTLY as you provided, stored in 'train_data'.
#    We only use O,H,L,C for the ML portion, but we’ll integrate
#    “strategy-based features” that attempt to capture advanced structure.
############################################################################

train_data = [

    # ===================== 2023-01 =====================
    {'Date':'2023-01-02','Open':1.35521,'High':1.35846,'Low':1.35300,'Close':1.35742},
    {'Date':'2023-01-03','Open':1.35742,'High':1.36851,'Low':1.35226,'Close':1.36689},
    {'Date':'2023-01-04','Open':1.36659,'High':1.36798,'Low':1.34745,'Close':1.34765},
    {'Date':'2023-01-05','Open':1.34753,'High':1.35952,'Low':1.34695,'Close':1.35717},
    {'Date':'2023-01-06','Open':1.35666,'High':1.36645,'Low':1.34334,'Close':1.34431},
    {'Date':'2023-01-09','Open':1.34308,'High':1.34442,'Low':1.33566,'Close':1.33892},
    {'Date':'2023-01-10','Open':1.33829,'High':1.34452,'Low':1.33761,'Close':1.34267},
    {'Date':'2023-01-11','Open':1.34233,'High':1.34450,'Low':1.34043,'Close':1.34232},
    {'Date':'2023-01-12','Open':1.34221,'High':1.34598,'Low':1.33454,'Close':1.33700},
    {'Date':'2023-01-13','Open':1.33582,'High':1.34394,'Low':1.33215,'Close':1.33927},
    {'Date':'2023-01-16','Open':1.33818,'High':1.34180,'Low':1.33527,'Close':1.34071},
    {'Date':'2023-01-17','Open':1.34048,'High':1.34370,'Low':1.33688,'Close':1.33900},
    {'Date':'2023-01-18','Open':1.33837,'High':1.35004,'Low':1.33502,'Close':1.34906},
    {'Date':'2023-01-19','Open':1.34856,'High':1.35206,'Low':1.34466,'Close':1.34648},
    {'Date':'2023-01-20','Open':1.34639,'High':1.34973,'Low':1.33731,'Close':1.33802},
    {'Date':'2023-01-23','Open':1.33783,'High':1.34175,'Low':1.33419,'Close':1.33671},
    {'Date':'2023-01-24','Open':1.33680,'High':1.34137,'Low':1.33465,'Close':1.33683},
    {'Date':'2023-01-25','Open':1.33681,'High':1.34278,'Low':1.33401,'Close':1.33910},
    {'Date':'2023-01-26','Open':1.33839,'High':1.34077,'Low':1.33030,'Close':1.33213},
    {'Date':'2023-01-27','Open':1.33169,'High':1.33466,'Low':1.33003,'Close':1.33084},
    {'Date':'2023-01-30','Open':1.33108,'High':1.33892,'Low':1.32994,'Close':1.33857},
    {'Date':'2023-01-31','Open':1.33842,'High':1.34715,'Low':1.32988,'Close':1.33045},

    # ===================== 2023-02 =====================
    {'Date':'2023-02-01','Open':1.33037,'High':1.33800,'Low':1.32667,'Close':1.32897},
    {'Date':'2023-02-02','Open':1.32853,'High':1.33472,'Low':1.32623,'Close':1.33143},
    {'Date':'2023-02-03','Open':1.33165,'High':1.34258,'Low':1.33099,'Close':1.34044},
    {'Date':'2023-02-06','Open':1.34064,'High':1.34756,'Low':1.33963,'Close':1.34460},
    {'Date':'2023-02-07','Open':1.34435,'High':1.34688,'Low':1.33797,'Close':1.33982},
    {'Date':'2023-02-08','Open':1.33968,'High':1.34504,'Low':1.33600,'Close':1.34455},
    {'Date':'2023-02-09','Open':1.34418,'High':1.34631,'Low':1.33723,'Close':1.34557},
    {'Date':'2023-02-10','Open':1.34491,'High':1.34721,'Low':1.33378,'Close':1.33428},
    {'Date':'2023-02-13','Open':1.33433,'High':1.33797,'Low':1.33248,'Close':1.33311},
    {'Date':'2023-02-14','Open':1.33307,'High':1.33903,'Low':1.32737,'Close':1.33360},
    {'Date':'2023-02-15','Open':1.33340,'High':1.34402,'Low':1.33302,'Close':1.33935},
    {'Date':'2023-02-16','Open':1.33859,'High':1.34789,'Low':1.33573,'Close':1.34569},
    {'Date':'2023-02-17','Open':1.34486,'High':1.35373,'Low':1.34448,'Close':1.34738},
    {'Date':'2023-02-20','Open':1.34753,'High':1.34945,'Low':1.34413,'Close':1.34520},
    {'Date':'2023-02-21','Open':1.34481,'High':1.35491,'Low':1.34414,'Close':1.35337},
    {'Date':'2023-02-22','Open':1.35336,'High':1.35683,'Low':1.35142,'Close':1.35499},
    {'Date':'2023-02-23','Open':1.35490,'High':1.35812,'Low':1.35161,'Close':1.35476},
    {'Date':'2023-02-24','Open':1.35440,'High':1.36649,'Low':1.35273,'Close':1.36065},
    {'Date':'2023-02-27','Open':1.36073,'High':1.36240,'Low':1.35341,'Close':1.35742},
    {'Date':'2023-02-28','Open':1.35731,'High':1.36484,'Low':1.35609,'Close':1.36468},

    # ===================== 2023-03 =====================
    {'Date':'2023-03-01','Open':1.36435,'High':1.36589,'Low':1.35842,'Close':1.35908},
    {'Date':'2023-03-02','Open':1.35891,'High':1.36412,'Low':1.35824,'Close':1.35959},
    {'Date':'2023-03-03','Open':1.35945,'High':1.36442,'Low':1.35552,'Close':1.35948},
    {'Date':'2023-03-06','Open':1.35993,'High':1.36286,'Low':1.35820,'Close':1.36116},
    {'Date':'2023-03-07','Open':1.36118,'High':1.37612,'Low':1.35996,'Close':1.37536},
    {'Date':'2023-03-08','Open':1.37524,'High':1.38148,'Low':1.37426,'Close':1.38023},
    {'Date':'2023-03-09','Open':1.38013,'High':1.38370,'Low':1.37525,'Close':1.38279},
    {'Date':'2023-03-10','Open':1.38259,'High':1.38618,'Low':1.37613,'Close':1.38262},
    {'Date':'2023-03-13','Open':1.38033,'High':1.38138,'Low':1.36771,'Close':1.37305},
    {'Date':'2023-03-14','Open':1.37306,'High':1.37501,'Low':1.36514,'Close':1.36813},
    {'Date':'2023-03-15','Open':1.36813,'High':1.38142,'Low':1.36599,'Close':1.37611},
    {'Date':'2023-03-16','Open':1.37611,'High':1.37877,'Low':1.37117,'Close':1.37188},
    {'Date':'2023-03-17','Open':1.37214,'High':1.37734,'Low':1.36776,'Close':1.37352},
    {'Date':'2023-03-20','Open':1.37000,'High':1.37471,'Low':1.36515,'Close':1.36635},
    {'Date':'2023-03-21','Open':1.36635,'High':1.37373,'Low':1.36441,'Close':1.37086},
    {'Date':'2023-03-22','Open':1.37086,'High':1.37440,'Low':1.36569,'Close':1.37320},
    {'Date':'2023-03-23','Open':1.37200,'High':1.37336,'Low':1.36306,'Close':1.37094},
    {'Date':'2023-03-24','Open':1.37069,'High':1.38046,'Low':1.37069,'Close':1.37401},
    {'Date':'2023-03-27','Open':1.37288,'High':1.37453,'Low':1.36495,'Close':1.36600},
    {'Date':'2023-03-28','Open':1.36580,'High':1.36952,'Low':1.35915,'Close':1.35984},
    {'Date':'2023-03-29','Open':1.35951,'High':1.36167,'Low':1.35562,'Close':1.35565},
    {'Date':'2023-03-30','Open':1.35564,'High':1.35810,'Low':1.35159,'Close':1.35217},
    {'Date':'2023-03-31','Open':1.35207,'High':1.35645,'Low':1.35074,'Close':1.35134},

    # ===================== 2023-04 =====================
    {'Date':'2023-04-03','Open':1.34889,'High':1.35366,'Low':1.34116,'Close':1.34380},
    {'Date':'2023-04-04','Open':1.34331,'High':1.34675,'Low':1.34059,'Close':1.34449},
    {'Date':'2023-04-05','Open':1.34423,'High':1.34828,'Low':1.34259,'Close':1.34566},
    {'Date':'2023-04-06','Open':1.34556,'High':1.35059,'Low':1.34455,'Close':1.34897},
    {'Date':'2023-04-07','Open':1.34911,'High':1.35305,'Low':1.34663,'Close':1.35136},
    {'Date':'2023-04-10','Open':1.35145,'High':1.35537,'Low':1.34848,'Close':1.35072},
    {'Date':'2023-04-11','Open':1.35078,'High':1.35162,'Low':1.34621,'Close':1.34654},
    {'Date':'2023-04-12','Open':1.34626,'High':1.34894,'Low':1.34282,'Close':1.34406},
    {'Date':'2023-04-13','Open':1.34398,'High':1.34479,'Low':1.33335,'Close':1.33390},
    {'Date':'2023-04-14','Open':1.33375,'High':1.33956,'Low':1.33006,'Close':1.33573},
    {'Date':'2023-04-17','Open':1.33546,'High':1.34199,'Low':1.33426,'Close':1.33914},
    {'Date':'2023-04-18','Open':1.33919,'High':1.33994,'Low':1.33596,'Close':1.33886},
    {'Date':'2023-04-19','Open':1.33864,'High':1.34669,'Low':1.33797,'Close':1.34587},
    {'Date':'2023-04-20','Open':1.34573,'High':1.34894,'Low':1.34483,'Close':1.34766},
    {'Date':'2023-04-21','Open':1.34754,'High':1.35630,'Low':1.34658,'Close':1.35395},
    {'Date':'2023-04-24','Open':1.35268,'High':1.35674,'Low':1.35224,'Close':1.35423},
    {'Date':'2023-04-25','Open':1.35392,'High':1.36478,'Low':1.35246,'Close':1.36261},
    {'Date':'2023-04-26','Open':1.36246,'High':1.36510,'Low':1.35992,'Close':1.36365},
    {'Date':'2023-04-27','Open':1.36339,'High':1.36455,'Low':1.35888,'Close':1.35928},
    {'Date':'2023-04-28','Open':1.35889,'High':1.36678,'Low':1.35361,'Close':1.35429},

    # ===================== 2023-05 =====================
    {'Date':'2023-05-01','Open':1.35321,'High':1.35832,'Low':1.35303,'Close':1.35439},
    {'Date':'2023-05-02','Open':1.35416,'High':1.36375,'Low':1.35281,'Close':1.36249},
    {'Date':'2023-05-03','Open':1.36242,'High':1.36393,'Low':1.35818,'Close':1.36159},
    {'Date':'2023-05-04','Open':1.36124,'High':1.36326,'Low':1.35191,'Close':1.35374},
    {'Date':'2023-05-05','Open':1.35361,'High':1.35404,'Low':1.33712,'Close':1.33747},
    {'Date':'2023-05-08','Open':1.33768,'High':1.33875,'Low':1.33148,'Close':1.33729},
    {'Date':'2023-05-09','Open':1.33704,'High':1.34064,'Low':1.33586,'Close':1.33858},
    {'Date':'2023-05-10','Open':1.33818,'High':1.34148,'Low':1.33347,'Close':1.33715},
    {'Date':'2023-05-11','Open':1.33698,'High':1.34958,'Low':1.33630,'Close':1.34884},
    {'Date':'2023-05-12','Open':1.34873,'High':1.35651,'Low':1.34761,'Close':1.35554},
    {'Date':'2023-05-15','Open':1.35328,'High':1.35676,'Low':1.34592,'Close':1.34669},
    {'Date':'2023-05-16','Open':1.34648,'High':1.34937,'Low':1.34040,'Close':1.34797},
    {'Date':'2023-05-17','Open':1.34768,'High':1.35358,'Low':1.34370,'Close':1.34552},
    {'Date':'2023-05-18','Open':1.34531,'High':1.35245,'Low':1.34417,'Close':1.35008},
    {'Date':'2023-05-19','Open':1.35000,'High':1.35236,'Low':1.34687,'Close':1.34974},
    {'Date':'2023-05-22','Open':1.34937,'High':1.35189,'Low':1.34852,'Close':1.35057},
    {'Date':'2023-05-23','Open':1.35035,'High':1.35485,'Low':1.34843,'Close':1.35024},
    {'Date':'2023-05-24','Open':1.35006,'High':1.36057,'Low':1.34943,'Close':1.35937},
    {'Date':'2023-05-25','Open':1.35931,'High':1.36447,'Low':1.35863,'Close':1.36427},
    {'Date':'2023-05-26','Open':1.36414,'High':1.36545,'Low':1.36006,'Close':1.36156},
    {'Date':'2023-05-29','Open':1.36060,'High':1.36192,'Low':1.35828,'Close':1.35901},
    {'Date':'2023-05-30','Open':1.35871,'High':1.36133,'Low':1.35671,'Close':1.35986},
    {'Date':'2023-05-31','Open':1.35978,'High':1.36512,'Low':1.35692,'Close':1.35708},

    # ===================== 2023-06 =====================
    {'Date':'2023-06-01','Open':1.35726,'High':1.35850,'Low':1.34365,'Close':1.34490},
    {'Date':'2023-06-02','Open':1.34459,'High':1.34510,'Low':1.34067,'Close':1.34292},
    {'Date':'2023-06-05','Open':1.34178,'High':1.34618,'Low':1.34127,'Close':1.34442},
    {'Date':'2023-06-06','Open':1.34416,'High':1.34522,'Low':1.33899,'Close':1.34012},
    {'Date':'2023-06-07','Open':1.34002,'High':1.34266,'Low':1.33211,'Close':1.33712},
    {'Date':'2023-06-08','Open':1.33690,'High':1.33879,'Low':1.33339,'Close':1.33557},
    {'Date':'2023-06-09','Open':1.33554,'High':1.33711,'Low':1.33131,'Close':1.33392},
    {'Date':'2023-06-12','Open':1.33308,'High':1.33836,'Low':1.33146,'Close':1.33644},
    {'Date':'2023-06-13','Open':1.33658,'High':1.33785,'Low':1.32857,'Close':1.33132},
    {'Date':'2023-06-14','Open':1.33122,'High':1.33529,'Low':1.32719,'Close':1.33245},
    {'Date':'2023-06-15','Open':1.33211,'High':1.33546,'Low':1.32098,'Close':1.32205},
    {'Date':'2023-06-16','Open':1.32183,'High':1.32394,'Low':1.31776,'Close':1.31964},
    {'Date':'2023-06-19','Open':1.31808,'High':1.32288,'Low':1.31788,'Close':1.32087},
    {'Date':'2023-06-20','Open':1.32070,'High':1.32697,'Low':1.32054,'Close':1.32323},
    {'Date':'2023-06-21','Open':1.32330,'High':1.32459,'Low':1.31572,'Close':1.31626},
    {'Date':'2023-06-22','Open':1.31620,'High':1.31793,'Low':1.31389,'Close':1.31509},
    {'Date':'2023-06-23','Open':1.31481,'High':1.32257,'Low':1.31429,'Close':1.31795},
    {'Date':'2023-06-26','Open':1.31787,'High':1.31813,'Low':1.31361,'Close':1.31527},
    {'Date':'2023-06-27','Open':1.31469,'High':1.31911,'Low':1.31164,'Close':1.31905},
    {'Date':'2023-06-28','Open':1.31910,'High':1.32765,'Low':1.31880,'Close':1.32554},
    {'Date':'2023-06-29','Open':1.32554,'High':1.32855,'Low':1.32390,'Close':1.32504},
    {'Date':'2023-06-30','Open':1.32498,'High':1.32852,'Low':1.32066,'Close':1.32444},

    # ===================== 2023-07 =====================
    {'Date':'2023-07-03','Open':1.32369,'High':1.32734,'Low':1.32301,'Close':1.32420},
    {'Date':'2023-07-04','Open':1.32420,'High':1.32567,'Low':1.32030,'Close':1.32222},
    {'Date':'2023-07-05','Open':1.32198,'High':1.32930,'Low':1.32158,'Close':1.32790},
    {'Date':'2023-07-06','Open':1.32788,'High':1.33724,'Low':1.32749,'Close':1.33651},
    {'Date':'2023-07-07','Open':1.33629,'High':1.33869,'Low':1.32658,'Close':1.32750},
    {'Date':'2023-07-10','Open':1.32708,'High':1.33043,'Low':1.32677,'Close':1.32799},
    {'Date':'2023-07-11','Open':1.32771,'High':1.32894,'Low':1.32298,'Close':1.32299},
    {'Date':'2023-07-12','Open':1.32284,'High':1.32339,'Low':1.31435,'Close':1.31866},
    {'Date':'2023-07-13','Open':1.31828,'High':1.31946,'Low':1.31036,'Close':1.31073},
    {'Date':'2023-07-14','Open':1.31060,'High':1.32202,'Low':1.30924,'Close':1.32159},
    {'Date':'2023-07-17','Open':1.32081,'High':1.32321,'Low':1.31607,'Close':1.31971},
    {'Date':'2023-07-18','Open':1.31922,'High':1.32432,'Low':1.31667,'Close':1.31670},
    {'Date':'2023-07-19','Open':1.31672,'High':1.31932,'Low':1.31554,'Close':1.31630},
    {'Date':'2023-07-20','Open':1.31636,'High':1.31943,'Low':1.31193,'Close':1.31705},
    {'Date':'2023-07-21','Open':1.31713,'High':1.32264,'Low':1.31532,'Close':1.32227},
    {'Date':'2023-07-24','Open':1.32190,'High':1.32287,'Low':1.31502,'Close':1.31651},
    {'Date':'2023-07-25','Open':1.31625,'High':1.32094,'Low':1.31468,'Close':1.31704},
    {'Date':'2023-07-26','Open':1.31628,'High':1.32379,'Low':1.31619,'Close':1.32059},
    {'Date':'2023-07-27','Open':1.32051,'High':1.32432,'Low':1.31581,'Close':1.32229},
    {'Date':'2023-07-28','Open':1.32208,'High':1.32515,'Low':1.32003,'Close':1.32515},
    {'Date':'2023-07-31','Open':1.32277,'High':1.32614,'Low':1.31510,'Close':1.31874},

    # ===================== 2023-08 =====================
    {'Date':'2023-08-01','Open':1.31831,'High':1.32999,'Low':1.31780,'Close':1.32790},
    {'Date':'2023-08-02','Open':1.32726,'High':1.33526,'Low':1.32628,'Close':1.33490},
    {'Date':'2023-08-03','Open':1.33467,'High':1.33777,'Low':1.33287,'Close':1.33520},
    {'Date':'2023-08-04','Open':1.33497,'High':1.33940,'Low':1.33191,'Close':1.33787},
    {'Date':'2023-08-07','Open':1.33568,'High':1.33993,'Low':1.33518,'Close':1.33683},
    {'Date':'2023-08-08','Open':1.33681,'High':1.35021,'Low':1.33585,'Close':1.34174},
    {'Date':'2023-08-09','Open':1.34159,'High':1.34540,'Low':1.34041,'Close':1.34161},
    {'Date':'2023-08-10','Open':1.34209,'High':1.34500,'Low':1.33720,'Close':1.34473},
    {'Date':'2023-08-11','Open':1.34388,'High':1.34658,'Low':1.34123,'Close':1.34439},
    {'Date':'2023-08-14','Open':1.34380,'High':1.34797,'Low':1.34304,'Close':1.34598},
    {'Date':'2023-08-15','Open':1.34593,'High':1.35014,'Low':1.34394,'Close':1.34968},
    {'Date':'2023-08-16','Open':1.34945,'High':1.35451,'Low':1.34752,'Close':1.35316},
    {'Date':'2023-08-17','Open':1.35314,'High':1.35526,'Low':1.34962,'Close':1.35443},
    {'Date':'2023-08-18','Open':1.35436,'High':1.35749,'Low':1.35214,'Close':1.35502},
    {'Date':'2023-08-21','Open':1.35460,'High':1.35726,'Low':1.34960,'Close':1.35438},
    {'Date':'2023-08-22','Open':1.35442,'High':1.35649,'Low':1.35129,'Close':1.35490},
    {'Date':'2023-08-23','Open':1.35405,'High':1.36038,'Low':1.35203,'Close':1.35235},
    {'Date':'2023-08-24','Open':1.35230,'High':1.35891,'Low':1.35099,'Close':1.35808},
    {'Date':'2023-08-25','Open':1.35772,'High':1.36398,'Low':1.35686,'Close':1.36043},
    {'Date':'2023-08-28','Open':1.35865,'High':1.36118,'Low':1.35701,'Close':1.35978},
    {'Date':'2023-08-29','Open':1.35872,'High':1.36373,'Low':1.35491,'Close':1.35514},
    {'Date':'2023-08-30','Open':1.35510,'High':1.35766,'Low':1.35128,'Close':1.35306},
    {'Date':'2023-08-31','Open':1.35304,'High':1.35578,'Low':1.35039,'Close':1.35080},

    # ===================== 2023-09 =====================
    {'Date':'2023-09-01','Open':1.35080,'High':1.36126,'Low':1.34890,'Close':1.35919},
    {'Date':'2023-09-04','Open':1.35859,'High':1.36044,'Low':1.35754,'Close':1.35908},
    {'Date':'2023-09-05','Open':1.35898,'High':1.36695,'Low':1.35848,'Close':1.36404},
    {'Date':'2023-09-06','Open':1.36399,'High':1.36762,'Low':1.36210,'Close':1.36334},
    {'Date':'2023-09-07','Open':1.36336,'High':1.36944,'Low':1.36318,'Close':1.36847},
    {'Date':'2023-09-08','Open':1.36792,'High':1.36895,'Low':1.36077,'Close':1.36386},
    {'Date':'2023-09-11','Open':1.36318,'High':1.36373,'Low':1.35609,'Close':1.35721},
    {'Date':'2023-09-12','Open':1.35676,'High':1.35930,'Low':1.35434,'Close':1.35504},
    {'Date':'2023-09-13','Open':1.35484,'High':1.35864,'Low':1.35208,'Close':1.35467},
    {'Date':'2023-09-14','Open':1.35488,'High':1.35542,'Low':1.34933,'Close':1.35046},
    {'Date':'2023-09-15','Open':1.35039,'High':1.35496,'Low':1.34940,'Close':1.35248},
    {'Date':'2023-09-18','Open':1.35210,'High':1.35282,'Low':1.34716,'Close':1.34842},
    {'Date':'2023-09-19','Open':1.34775,'High':1.34891,'Low':1.33796,'Close':1.34473},
    {'Date':'2023-09-20','Open':1.34469,'High':1.34772,'Low':1.33955,'Close':1.34611},
    {'Date':'2023-09-21','Open':1.34610,'High':1.35236,'Low':1.34394,'Close':1.34815},
    {'Date':'2023-09-22','Open':1.34686,'High':1.34915,'Low':1.34236,'Close':1.34804},
    {'Date':'2023-09-25','Open':1.34617,'High':1.34916,'Low':1.34519,'Close':1.34519},
    {'Date':'2023-09-26','Open':1.34519,'High':1.35280,'Low':1.34475,'Close':1.35149},
    {'Date':'2023-09-27','Open':1.35117,'High':1.35430,'Low':1.34928,'Close':1.34947},
    {'Date':'2023-09-28','Open':1.34949,'High':1.35162,'Low':1.34702,'Close':1.34844},
    {'Date':'2023-09-29','Open':1.34845,'High':1.35846,'Low':1.34168,'Close':1.35767},

    # ===================== 2023-10 =====================
    {'Date':'2023-10-02','Open':1.35676,'High':1.36798,'Low':1.35508,'Close':1.36743},
    {'Date':'2023-10-03','Open':1.36611,'High':1.37359,'Low':1.36466,'Close':1.37077},
    {'Date':'2023-10-04','Open':1.37023,'High':1.37795,'Low':1.36903,'Close':1.37433},
    {'Date':'2023-10-05','Open':1.37394,'High':1.37853,'Low':1.37026,'Close':1.37028},
    {'Date':'2023-10-06','Open':1.37026,'High':1.37452,'Low':1.36439,'Close':1.36574},
    {'Date':'2023-10-09','Open':1.36664,'High':1.36793,'Low':1.35811,'Close':1.35858},
    {'Date':'2023-10-10','Open':1.35829,'High':1.36171,'Low':1.35693,'Close':1.35804},
    {'Date':'2023-10-11','Open':1.35779,'High':1.36236,'Low':1.35712,'Close':1.35903},
    {'Date':'2023-10-12','Open':1.35896,'High':1.37004,'Low':1.35783,'Close':1.36901},
    {'Date':'2023-10-13','Open':1.36842,'High':1.36944,'Low':1.36364,'Close':1.36530},
    {'Date':'2023-10-16','Open':1.36435,'High':1.36606,'Low':1.36061,'Close':1.36074},
    {'Date':'2023-10-17','Open':1.36069,'High':1.37024,'Low':1.36043,'Close':1.36463},
    {'Date':'2023-10-18','Open':1.36457,'High':1.37158,'Low':1.36167,'Close':1.37144},
    {'Date':'2023-10-19','Open':1.37132,'High':1.37403,'Low':1.36787,'Close':1.37178},
    {'Date':'2023-10-20','Open':1.37167,'High':1.37336,'Low':1.36692,'Close':1.37151},
    {'Date':'2023-10-23','Open':1.37007,'High':1.37363,'Low':1.36669,'Close':1.36879},
    {'Date':'2023-10-24','Open':1.36843,'High':1.37540,'Low':1.36606,'Close':1.37372},
    {'Date':'2023-10-25','Open':1.37296,'High':1.38096,'Low':1.37289,'Close':1.37941},
    {'Date':'2023-10-26','Open':1.37920,'High':1.38435,'Low':1.37877,'Close':1.38289},
    {'Date':'2023-10-27','Open':1.38276,'High':1.38803,'Low':1.37956,'Close':1.38729},
    {'Date':'2023-10-30','Open':1.38659,'High':1.38725,'Low':1.38129,'Close':1.38230},
    {'Date':'2023-10-31','Open':1.38253,'High':1.38917,'Low':1.38131,'Close':1.38713},

    # ===================== 2023-11 =====================
    {'Date':'2023-11-01','Open':1.38707,'High':1.38987,'Low':1.38407,'Close':1.38505},
    {'Date':'2023-11-02','Open':1.38511,'High':1.38530,'Low':1.37349,'Close':1.37374},
    {'Date':'2023-11-03','Open':1.37404,'High':1.37598,'Low':1.36518,'Close':1.36523},
    {'Date':'2023-11-06','Open':1.36539,'High':1.37022,'Low':1.36288,'Close':1.36732},
    {'Date':'2023-11-07','Open':1.36885,'High':1.37820,'Low':1.36715,'Close':1.37647},
    {'Date':'2023-11-08','Open':1.37622,'High':1.38141,'Low':1.37542,'Close':1.37923},
    {'Date':'2023-11-09','Open':1.37918,'High':1.38158,'Low':1.37461,'Close':1.38048},
    {'Date':'2023-11-10','Open':1.38053,'High':1.38545,'Low':1.37892,'Close':1.37933},
    {'Date':'2023-11-13','Open':1.37935,'High':1.38314,'Low':1.37767,'Close':1.38040},
    {'Date':'2023-11-14','Open':1.38011,'High':1.38429,'Low':1.36842,'Close':1.36902},
    {'Date':'2023-11-15','Open':1.36833,'High':1.37094,'Low':1.36543,'Close':1.36803},
    {'Date':'2023-11-16','Open':1.36773,'High':1.37764,'Low':1.36746,'Close':1.37522},
    {'Date':'2023-11-17','Open':1.37504,'High':1.37705,'Low':1.37078,'Close':1.37140},
    {'Date':'2023-11-20','Open':1.37067,'High':1.37489,'Low':1.36892,'Close':1.37222},
    {'Date':'2023-11-21','Open':1.37178,'High':1.37307,'Low':1.36806,'Close':1.36996},
    {'Date':'2023-11-22','Open':1.36976,'High':1.37651,'Low':1.36850,'Close':1.36850},
    {'Date':'2023-11-23','Open':1.36850,'High':1.37105,'Low':1.36504,'Close':1.36939},
    {'Date':'2023-11-24','Open':1.36832,'High':1.37112,'Low':1.35932,'Close':1.36274},
    {'Date':'2023-11-27','Open':1.36282,'High':1.36606,'Low':1.36129,'Close':1.36129},
    {'Date':'2023-11-28','Open':1.36141,'High':1.36194,'Low':1.35597,'Close':1.35701},
    {'Date':'2023-11-29','Open':1.35610,'High':1.36148,'Low':1.35407,'Close':1.35862},
    {'Date':'2023-11-30','Open':1.35750,'High':1.36264,'Low':1.35521,'Close':1.35583},

    # ===================== 2023-12 =====================
    {'Date':'2023-12-01','Open':1.35577,'High':1.35641,'Low':1.34871,'Close':1.34933},
    {'Date':'2023-12-04','Open':1.34996,'High':1.35620,'Low':1.34797,'Close':1.35350},
    {'Date':'2023-12-05','Open':1.35310,'High':1.35940,'Low':1.35295,'Close':1.35892},
    {'Date':'2023-12-06','Open':1.35797,'High':1.35962,'Low':1.35487,'Close':1.35906},
    {'Date':'2023-12-07','Open':1.35914,'High':1.36193,'Low':1.35836,'Close':1.35970},
    {'Date':'2023-12-08','Open':1.35922,'High':1.36097,'Low':1.35505,'Close':1.35802},
    {'Date':'2023-12-11','Open':1.35782,'High':1.36048,'Low':1.35502,'Close':1.35733},
    {'Date':'2023-12-12','Open':1.35731,'High':1.36185,'Low':1.35450,'Close':1.35883},
    {'Date':'2023-12-13','Open':1.35863,'High':1.36083,'Low':1.34943,'Close':1.35153},
    {'Date':'2023-12-14','Open':1.35063,'High':1.35172,'Low':1.33941,'Close':1.34043},
    {'Date':'2023-12-15','Open':1.34016,'High':1.34149,'Low':1.33501,'Close':1.33790},
    {'Date':'2023-12-18','Open':1.33662,'High':1.34089,'Low':1.33495,'Close':1.33965},
    {'Date':'2023-12-19','Open':1.33935,'High':1.34001,'Low':1.33307,'Close':1.33307},
    {'Date':'2023-12-20','Open':1.33312,'High':1.33701,'Low':1.33114,'Close':1.33667},
    {'Date':'2023-12-21','Open':1.33672,'High':1.33708,'Low':1.32748,'Close':1.32782},
    {'Date':'2023-12-22','Open':1.32780,'High':1.32926,'Low':1.32189,'Close':1.32613},
    {'Date':'2023-12-25','Open':1.32472,'High':1.32587,'Low':1.32472,'Close':1.32568},
    {'Date':'2023-12-26','Open':1.32443,'High':1.32619,'Low':1.31931,'Close':1.31931},
    {'Date':'2023-12-27','Open':1.31963,'High':1.32192,'Low':1.31770,'Close':1.32057},
    {'Date':'2023-12-28','Open':1.31992,'High':1.32353,'Low':1.31822,'Close':1.32260},
    {'Date':'2023-12-29','Open':1.32270,'High':1.32652,'Low':1.31777,'Close':1.32472},

    # ===================== 2024-01 =====================
    {'Date':'2024-01-02','Open':1.32490,'High':1.33337,'Low':1.32222,'Close':1.33186},
    {'Date':'2024-01-03','Open':1.33194,'High':1.33718,'Low':1.33131,'Close':1.33513},
    {'Date':'2024-01-04','Open':1.33510,'High':1.33660,'Low':1.33169,'Close':1.33473},
    {'Date':'2024-01-05','Open':1.33394,'High':1.33989,'Low':1.32872,'Close':1.33545},
    {'Date':'2024-01-08','Open':1.33398,'High':1.34048,'Low':1.33366,'Close':1.33452},
    {'Date':'2024-01-09','Open':1.33454,'High':1.34146,'Low':1.33402,'Close':1.33876},
    {'Date':'2024-01-10','Open':1.33876,'High':1.33945,'Low':1.33650,'Close':1.33791},
    {'Date':'2024-01-11','Open':1.33793,'High':1.34428,'Low':1.33503,'Close':1.33923},
    {'Date':'2024-01-12','Open':1.33910,'High':1.34115,'Low':1.33429,'Close':1.34054},
    {'Date':'2024-01-15','Open':1.33995,'High':1.34480,'Low':1.33817,'Close':1.34271},
    {'Date':'2024-01-16','Open':1.34257,'High':1.35016,'Low':1.34207,'Close':1.34931},
    {'Date':'2024-01-17','Open':1.34931,'High':1.35416,'Low':1.34800,'Close':1.35034},
    {'Date':'2024-01-18','Open':1.35014,'High':1.35285,'Low':1.34804,'Close':1.34851},
    {'Date':'2024-01-19','Open':1.34838,'High':1.35020,'Low':1.34260,'Close':1.34275},
    {'Date':'2024-01-22','Open':1.34309,'High':1.34824,'Low':1.34145,'Close':1.34762},
    {'Date':'2024-01-23','Open':1.34728,'High':1.34917,'Low':1.34529,'Close':1.34589},
    {'Date':'2024-01-24','Open':1.34589,'High':1.35275,'Low':1.34298,'Close':1.35220},
    {'Date':'2024-01-25','Open':1.35220,'High':1.35343,'Low':1.34673,'Close':1.34733},
    {'Date':'2024-01-26','Open':1.34733,'High':1.34829,'Low':1.34139,'Close':1.34468},
    {'Date':'2024-01-29','Open':1.34584,'High':1.34650,'Low':1.34090,'Close':1.34119},
    {'Date':'2024-01-30','Open':1.34104,'High':1.34463,'Low':1.33954,'Close':1.33967},
    {'Date':'2024-01-31','Open':1.33966,'High':1.34452,'Low':1.33582,'Close':1.34328},

    # ===================== 2024-02 =====================
    {'Date':'2024-02-01','Open':1.34332,'High':1.34643,'Low':1.33675,'Close':1.33847},
    {'Date':'2024-02-02','Open':1.33842,'High':1.34755,'Low':1.33656,'Close':1.34653},
    {'Date':'2024-02-05','Open':1.34585,'High':1.35437,'Low':1.34560,'Close':1.35392},
    {'Date':'2024-02-06','Open':1.35360,'High':1.35437,'Low':1.34761,'Close':1.34898},
    {'Date':'2024-02-07','Open':1.34897,'High':1.34924,'Low':1.34548,'Close':1.34619},
    {'Date':'2024-02-08','Open':1.34622,'High':1.34929,'Low':1.34477,'Close':1.34566},
    {'Date':'2024-02-09','Open':1.34539,'High':1.34815,'Low':1.34126,'Close':1.34533},
    {'Date':'2024-02-12','Open':1.34640,'High':1.34750,'Low':1.34299,'Close':1.34484},
    {'Date':'2024-02-13','Open':1.34484,'High':1.35857,'Low':1.34379,'Close':1.35630},
    {'Date':'2024-02-14','Open':1.35615,'High':1.35720,'Low':1.35307,'Close':1.35409},
    {'Date':'2024-02-15','Open':1.35388,'High':1.35514,'Low':1.34616,'Close':1.34623},
    {'Date':'2024-02-16','Open':1.34617,'High':1.35074,'Low':1.34479,'Close':1.34832},
    {'Date':'2024-02-19','Open':1.34733,'High':1.34963,'Low':1.34677,'Close':1.34901},
    {'Date':'2024-02-20','Open':1.34887,'High':1.35295,'Low':1.34721,'Close':1.35216},
    {'Date':'2024-02-21','Open':1.35209,'High':1.35361,'Low':1.34940,'Close':1.35045},
    {'Date':'2024-02-22','Open':1.35045,'High':1.35075,'Low':1.34405,'Close':1.34803},
    {'Date':'2024-02-23','Open':1.34801,'High':1.35173,'Low':1.34614,'Close':1.35062},
    {'Date':'2024-02-26','Open':1.34933,'High':1.35284,'Low':1.34897,'Close':1.35029},
    {'Date':'2024-02-27','Open':1.35031,'High':1.35390,'Low':1.34842,'Close':1.35271},
    {'Date':'2024-02-28','Open':1.35272,'High':1.36058,'Low':1.35173,'Close':1.35754},
    {'Date':'2024-02-29','Open':1.35759,'High':1.35973,'Low':1.35409,'Close':1.35755},

    # ===================== 2024-03 =====================
    {'Date':'2024-03-01','Open':1.35778,'High':1.36014,'Low':1.35449,'Close':1.35582},
    {'Date':'2024-03-04','Open':1.35473,'High':1.35837,'Low':1.35449,'Close':1.35710},
    {'Date':'2024-03-05','Open':1.35719,'High':1.36050,'Low':1.35554,'Close':1.35894},
    {'Date':'2024-03-06','Open':1.35908,'High':1.35997,'Low':1.34985,'Close':1.35093},
    {'Date':'2024-03-07','Open':1.35129,'High':1.35253,'Low':1.34539,'Close':1.34565},
    {'Date':'2024-03-08','Open':1.34567,'High':1.34976,'Low':1.34197,'Close':1.34833},
    {'Date':'2024-03-11','Open':1.34780,'High':1.35095,'Low':1.34690,'Close':1.34806},
    {'Date':'2024-03-12','Open':1.34806,'High':1.35255,'Low':1.34666,'Close':1.34901},
    {'Date':'2024-03-13','Open':1.34901,'High':1.34983,'Low':1.34589,'Close':1.34668},
    {'Date':'2024-03-14','Open':1.34668,'High':1.35406,'Low':1.34595,'Close':1.35278},
    {'Date':'2024-03-15','Open':1.35273,'High':1.35518,'Low':1.35100,'Close':1.35401},
    {'Date':'2024-03-18','Open':1.35316,'High':1.35514,'Low':1.35206,'Close':1.35312},
    {'Date':'2024-03-19','Open':1.35311,'High':1.36133,'Low':1.35305,'Close':1.35614},
    {'Date':'2024-03-20','Open':1.35614,'High':1.36048,'Low':1.34817,'Close':1.34927},
    {'Date':'2024-03-21','Open':1.34930,'High':1.35415,'Low':1.34558,'Close':1.35262},
    {'Date':'2024-03-22','Open':1.35262,'High':1.36137,'Low':1.35191,'Close':1.36062},
    {'Date':'2024-03-25','Open':1.36038,'High':1.36138,'Low':1.35703,'Close':1.35838},
    {'Date':'2024-03-26','Open':1.35831,'High':1.35903,'Low':1.35526,'Close':1.35799},
    {'Date':'2024-03-27','Open':1.35799,'High':1.36081,'Low':1.35631,'Close':1.35663},
    {'Date':'2024-03-28','Open':1.35676,'High':1.36140,'Low':1.35248,'Close':1.35379},
    {'Date':'2024-03-29','Open':1.35353,'High':1.35607,'Low':1.35268,'Close':1.35364},

    # ===================== 2024-04 =====================
    {'Date':'2024-04-01','Open':1.35296,'High':1.35861,'Low':1.35148,'Close':1.35690},
    {'Date':'2024-04-02','Open':1.35686,'High':1.35842,'Low':1.35563,'Close':1.35656},
    {'Date':'2024-04-03','Open':1.35655,'High':1.35888,'Low':1.35118,'Close':1.35254},
    {'Date':'2024-04-04','Open':1.35257,'High':1.35588,'Low':1.34779,'Close':1.35410},
    {'Date':'2024-04-05','Open':1.35414,'High':1.36474,'Low':1.35327,'Close':1.35885},
    {'Date':'2024-04-08','Open':1.35910,'High':1.36165,'Low':1.35693,'Close':1.35712},
    {'Date':'2024-04-09','Open':1.35710,'High':1.35986,'Low':1.35470,'Close':1.35691},
    {'Date':'2024-04-10','Open':1.35694,'High':1.37024,'Low':1.35558,'Close':1.36799},
    {'Date':'2024-04-11','Open':1.36804,'High':1.37256,'Low':1.36610,'Close':1.36876},
    {'Date':'2024-04-12','Open':1.36860,'High':1.37871,'Low':1.36818,'Close':1.37713},
    {'Date':'2024-04-15','Open':1.37770,'High':1.37930,'Low':1.37252,'Close':1.37872},
    {'Date':'2024-04-16','Open':1.37873,'High':1.38457,'Low':1.37741,'Close':1.38270},
    {'Date':'2024-04-17','Open':1.38271,'High':1.38376,'Low':1.37593,'Close':1.37712},
    {'Date':'2024-04-18','Open':1.37709,'High':1.37813,'Low':1.37417,'Close':1.37656},
    {'Date':'2024-04-19','Open':1.37653,'High':1.38040,'Low':1.37235,'Close':1.37482},
    {'Date':'2024-04-22','Open':1.37394,'High':1.37524,'Low':1.36865,'Close':1.36982},
    {'Date':'2024-04-23','Open':1.36974,'High':1.37140,'Low':1.36561,'Close':1.36618},
    {'Date':'2024-04-24','Open':1.36574,'High':1.37288,'Low':1.36513,'Close':1.37017},
    {'Date':'2024-04-25','Open':1.37009,'High':1.37309,'Low':1.36499,'Close':1.36557},
    {'Date':'2024-04-26','Open':1.36546,'High':1.36956,'Low':1.36327,'Close':1.36676},
    {'Date':'2024-04-29','Open':1.36652,'High':1.36768,'Low':1.36320,'Close':1.36596},
    {'Date':'2024-04-30','Open':1.36599,'High':1.37834,'Low':1.36548,'Close':1.37769},

    # ===================== 2024-05 =====================
    {'Date':'2024-05-01','Open':1.37755,'High':1.37830,'Low':1.37031,'Close':1.37377},
    {'Date':'2024-05-02','Open':1.37378,'High':1.37402,'Low':1.36693,'Close':1.36728},
    {'Date':'2024-05-03','Open':1.36723,'High':1.36915,'Low':1.36097,'Close':1.36846},
    {'Date':'2024-05-06','Open':1.36780,'High':1.36967,'Low':1.36479,'Close':1.36643},
    {'Date':'2024-05-07','Open':1.36633,'High':1.37410,'Low':1.36526,'Close':1.37253},
    {'Date':'2024-05-08','Open':1.37256,'High':1.37624,'Low':1.36996,'Close':1.37198},
    {'Date':'2024-05-09','Open':1.37181,'High':1.37377,'Low':1.36738,'Close':1.36755},
    {'Date':'2024-05-10','Open':1.36754,'High':1.36899,'Low':1.36332,'Close':1.36712},
    {'Date':'2024-05-13','Open':1.36708,'High':1.36892,'Low':1.36607,'Close':1.36650},
    {'Date':'2024-05-14','Open':1.36659,'High':1.36904,'Low':1.36327,'Close':1.36495},
    {'Date':'2024-05-15','Open':1.36492,'High':1.36608,'Low':1.35901,'Close':1.36008},
    {'Date':'2024-05-16','Open':1.36001,'High':1.36412,'Low':1.35901,'Close':1.36164},
    {'Date':'2024-05-17','Open':1.36151,'High':1.36439,'Low':1.36013,'Close':1.36094},
    {'Date':'2024-05-20','Open':1.36160,'High':1.36352,'Low':1.35958,'Close':1.36240},
    {'Date':'2024-05-21','Open':1.36233,'High':1.36754,'Low':1.36150,'Close':1.36530},
    {'Date':'2024-05-22','Open':1.36510,'High':1.36980,'Low':1.36237,'Close':1.36925},
    {'Date':'2024-05-23','Open':1.36936,'High':1.37432,'Low':1.36566,'Close':1.37282},
    {'Date':'2024-05-24','Open':1.37265,'High':1.37385,'Low':1.36478,'Close':1.36630},
    {'Date':'2024-05-27','Open':1.36680,'High':1.36707,'Low':1.36292,'Close':1.36315},
    {'Date':'2024-05-28','Open':1.36309,'High':1.36534,'Low':1.36145,'Close':1.36445},
    {'Date':'2024-05-29','Open':1.36431,'High':1.37188,'Low':1.36358,'Close':1.37163},
    {'Date':'2024-05-30','Open':1.37147,'High':1.37346,'Low':1.36602,'Close':1.36785},
    {'Date':'2024-05-31','Open':1.36790,'High':1.36894,'Low':1.36191,'Close':1.36260},

    # ===================== 2024-06 =====================
    {'Date':'2024-06-03','Open':1.36310,'High':1.36686,'Low':1.36027,'Close':1.36263},
    {'Date':'2024-06-04','Open':1.36258,'High':1.36990,'Low':1.36189,'Close':1.36740},
    {'Date':'2024-06-05','Open':1.36743,'High':1.37415,'Low':1.36655,'Close':1.36930},
    {'Date':'2024-06-06','Open':1.36911,'High':1.37099,'Low':1.36643,'Close':1.36662},
    {'Date':'2024-06-07','Open':1.36681,'High':1.37673,'Low':1.36587,'Close':1.37651},
    {'Date':'2024-06-10','Open':1.37577,'High':1.37817,'Low':1.37534,'Close':1.37572},
    {'Date':'2024-06-11','Open':1.37556,'High':1.37918,'Low':1.37478,'Close':1.37572},
    {'Date':'2024-06-12','Open':1.37558,'High':1.37601,'Low':1.36802,'Close':1.37222},
    {'Date':'2024-06-13','Open':1.37202,'High':1.37634,'Low':1.37101,'Close':1.37418},
    {'Date':'2024-06-14','Open':1.37419,'High':1.37794,'Low':1.37274,'Close':1.37297},
    {'Date':'2024-06-17','Open':1.37282,'High':1.37644,'Low':1.37203,'Close':1.37215},
    {'Date':'2024-06-18','Open':1.37222,'High':1.37565,'Low':1.37092,'Close':1.37162},
    {'Date':'2024-06-19','Open':1.37146,'High':1.37258,'Low':1.36983,'Close':1.37054},
    {'Date':'2024-06-20','Open':1.37025,'High':1.37207,'Low':1.36820,'Close':1.36875},
    {'Date':'2024-06-21','Open':1.36870,'High':1.37179,'Low':1.36741,'Close':1.36911},
    {'Date':'2024-06-24','Open':1.36898,'High':1.37082,'Low':1.36497,'Close':1.36574},
    {'Date':'2024-06-25','Open':1.36542,'High':1.36805,'Low':1.36223,'Close':1.36566},
    {'Date':'2024-06-26','Open':1.36540,'High':1.37076,'Low':1.36473,'Close':1.37005},
    {'Date':'2024-06-27','Open':1.36978,'High':1.37121,'Low':1.36757,'Close':1.36996},
    {'Date':'2024-06-28','Open':1.36988,'High':1.37341,'Low':1.36553,'Close':1.36769},

    # ===================== 2024-07 =====================
    {'Date':'2024-07-01','Open':1.36710,'High':1.37488,'Low':1.36613,'Close':1.37342},
    {'Date':'2024-07-02','Open':1.37352,'High':1.37551,'Low':1.37250,'Close':1.37300},
    {'Date':'2024-07-03','Open':1.36759,'High':1.36869,'Low':1.36171,'Close':1.36343},
    {'Date':'2024-07-04','Open':1.36342,'High':1.36412,'Low':1.36081,'Close':1.36126},
    {'Date':'2024-07-05','Open':1.36098,'High':1.36530,'Low':1.36025,'Close':1.36400},
    {'Date':'2024-07-08','Open':1.36460,'High':1.36471,'Low':1.36240,'Close':1.36326},
    {'Date':'2024-07-09','Open':1.36314,'High':1.36481,'Low':1.36274,'Close':1.36341},
    {'Date':'2024-07-10','Open':1.36337,'High':1.36428,'Low':1.36080,'Close':1.36188},
    {'Date':'2024-07-11','Open':1.36160,'High':1.36477,'Low':1.35886,'Close':1.36316},
    {'Date':'2024-07-12','Open':1.36301,'High':1.36392,'Low':1.36109,'Close':1.36338},
    {'Date':'2024-07-15','Open':1.36430,'High':1.36888,'Low':1.36203,'Close':1.36816},
    {'Date':'2024-07-16','Open':1.36810,'High':1.37076,'Low':1.36640,'Close':1.36725},
    {'Date':'2024-07-17','Open':1.36701,'High':1.37015,'Low':1.36564,'Close':1.36819},
    {'Date':'2024-07-18','Open':1.36814,'High':1.37182,'Low':1.36704,'Close':1.37051},
    {'Date':'2024-07-19','Open':1.37026,'High':1.37475,'Low':1.36977,'Close':1.37272},
    {'Date':'2024-07-22','Open':1.37170,'High':1.37746,'Low':1.37052,'Close':1.37562},
    {'Date':'2024-07-23','Open':1.37511,'High':1.37856,'Low':1.37488,'Close':1.37836},
    {'Date':'2024-07-24','Open':1.37828,'High':1.38163,'Low':1.37772,'Close':1.38069},
    {'Date':'2024-07-25','Open':1.38056,'High':1.38487,'Low':1.37964,'Close':1.38232},
    {'Date':'2024-07-26','Open':1.38238,'High':1.38487,'Low':1.38070,'Close':1.38368},
    {'Date':'2024-07-29','Open':1.38306,'High':1.38649,'Low':1.38161,'Close':1.38509},
    {'Date':'2024-07-30','Open':1.38495,'High':1.38644,'Low':1.38378,'Close':1.38483},
    {'Date':'2024-07-31','Open':1.38461,'High':1.38583,'Low':1.37873,'Close':1.38070},

    # ===================== 2024-08 =====================
    {'Date':'2024-08-01','Open':1.38066,'High':1.38889,'Low':1.37922,'Close':1.38741},
    {'Date':'2024-08-02','Open':1.38722,'High':1.38881,'Low':1.38340,'Close':1.38717},
    {'Date':'2024-08-05','Open':1.38566,'High':1.39465,'Low':1.38092,'Close':1.38230},
    {'Date':'2024-08-06','Open':1.38201,'High':1.38556,'Low':1.37567,'Close':1.37832},
    {'Date':'2024-08-07','Open':1.37839,'High':1.37904,'Low':1.37209,'Close':1.37575},
    {'Date':'2024-08-08','Open':1.37567,'High':1.37652,'Low':1.37262,'Close':1.37313},
    {'Date':'2024-08-09','Open':1.37317,'High':1.37517,'Low':1.37178,'Close':1.37284},
    {'Date':'2024-08-12','Open':1.37350,'High':1.37477,'Low':1.37177,'Close':1.37397},
    {'Date':'2024-08-13','Open':1.37396,'High':1.37471,'Low':1.37024,'Close':1.37038},
    {'Date':'2024-08-14','Open':1.37020,'High':1.37244,'Low':1.36886,'Close':1.37119},
    {'Date':'2024-08-15','Open':1.37122,'High':1.37383,'Low':1.36952,'Close':1.37260},
    {'Date':'2024-08-16','Open':1.37262,'High':1.37368,'Low':1.36768,'Close':1.36770},
    {'Date':'2024-08-19','Open':1.36764,'High':1.36848,'Low':1.36296,'Close':1.36328},
    {'Date':'2024-08-20','Open':1.36316,'High':1.36413,'Low':1.36049,'Close':1.36183},
    {'Date':'2024-08-21','Open':1.36188,'High':1.36238,'Low':1.35756,'Close':1.35928},
    {'Date':'2024-08-22','Open':1.35935,'High':1.36185,'Low':1.35711,'Close':1.36137},
    {'Date':'2024-08-23','Open':1.36146,'High':1.36156,'Low':1.34985,'Close':1.35080},
    {'Date':'2024-08-26','Open':1.35016,'High':1.35154,'Low':1.34630,'Close':1.34865},
    {'Date':'2024-08-27','Open':1.34867,'High':1.34881,'Low':1.34415,'Close':1.34429},
    {'Date':'2024-08-28','Open':1.34403,'High':1.34880,'Low':1.34362,'Close':1.34798},
    {'Date':'2024-08-29','Open':1.34787,'High':1.34910,'Low':1.34500,'Close':1.34830},
    {'Date':'2024-08-30','Open':1.34817,'High':1.35093,'Low':1.34654,'Close':1.34922},

    # ===================== 2024-09 =====================
    {'Date':'2024-09-02','Open':1.34838,'High':1.35053,'Low':1.34829,'Close':1.34899},
    {'Date':'2024-09-03','Open':1.34918,'High':1.35623,'Low':1.34857,'Close':1.35485},
    {'Date':'2024-09-04','Open':1.35486,'High':1.35653,'Low':1.35000,'Close':1.35050},
    {'Date':'2024-09-05','Open':1.35034,'High':1.35250,'Low':1.35002,'Close':1.35012},
    {'Date':'2024-09-06','Open':1.35005,'High':1.35823,'Low':1.34653,'Close':1.35714},
    {'Date':'2024-09-09','Open':1.35660,'High':1.35768,'Low':1.35463,'Close':1.35570},
    {'Date':'2024-09-10','Open':1.35562,'High':1.36154,'Low':1.35530,'Close':1.36081},
    {'Date':'2024-09-11','Open':1.36077,'High':1.36227,'Low':1.35666,'Close':1.35740},
    {'Date':'2024-09-12','Open':1.35742,'High':1.36044,'Low':1.35650,'Close':1.35776},
    {'Date':'2024-09-13','Open':1.35778,'High':1.36000,'Low':1.35652,'Close':1.35854},
    {'Date':'2024-09-16','Open':1.35938,'High':1.36074,'Low':1.35665,'Close':1.35856},
    {'Date':'2024-09-17','Open':1.35833,'High':1.36166,'Low':1.35797,'Close':1.35961},
    {'Date':'2024-09-18','Open':1.35954,'High':1.36226,'Low':1.35400,'Close':1.36023},
    {'Date':'2024-09-19','Open':1.36040,'High':1.36475,'Low':1.35328,'Close':1.35563},
    {'Date':'2024-09-20','Open':1.35556,'High':1.35895,'Low':1.35419,'Close':1.35687},
    {'Date':'2024-09-23','Open':1.35680,'High':1.35820,'Low':1.34868,'Close':1.35394},
    {'Date':'2024-09-24','Open':1.35383,'High':1.35413,'Low':1.34290,'Close':1.34293},
    {'Date':'2024-09-25','Open':1.34295,'High':1.34867,'Low':1.34194,'Close':1.34821},
    {'Date':'2024-09-26','Open':1.34787,'High':1.34894,'Low':1.34575,'Close':1.34625},
    {'Date':'2024-09-27','Open':1.34630,'High':1.35263,'Low':1.34606,'Close':1.35141},
    {'Date':'2024-09-30','Open':1.35065,'High':1.35375,'Low':1.34895,'Close':1.35243},

    # ===================== 2024-10 =====================
    {'Date':'2024-10-01','Open':1.35223,'High':1.35393,'Low':1.34808,'Close':1.34898},
    {'Date':'2024-10-02','Open':1.34891,'High':1.35098,'Low':1.34723,'Close':1.35007},
    {'Date':'2024-10-03','Open':1.34981,'High':1.35595,'Low':1.34890,'Close':1.35533},
    {'Date':'2024-10-04','Open':1.35515,'High':1.35911,'Low':1.35280,'Close':1.35752},
    {'Date':'2024-10-07','Open':1.35552,'High':1.36392,'Low':1.35546,'Close':1.36178},
    {'Date':'2024-10-08','Open':1.36170,'High':1.36750,'Low':1.36108,'Close':1.36447},
    {'Date':'2024-10-09','Open':1.36423,'High':1.37186,'Low':1.36423,'Close':1.37086},
    {'Date':'2024-10-10','Open':1.37086,'High':1.37750,'Low':1.36826,'Close':1.37397},
    {'Date':'2024-10-11','Open':1.37379,'High':1.37835,'Low':1.37250,'Close':1.37618},
    {'Date':'2024-10-14','Open':1.37622,'High':1.38052,'Low':1.37512,'Close':1.37921},
    {'Date':'2024-10-15','Open':1.37934,'High':1.38383,'Low':1.37698,'Close':1.37723},
    {'Date':'2024-10-16','Open':1.37720,'High':1.37929,'Low':1.37485,'Close':1.37492},
    {'Date':'2024-10-17','Open':1.37540,'High':1.38010,'Low':1.37457,'Close':1.37940},
    {'Date':'2024-10-18','Open':1.37948,'High':1.38147,'Low':1.37854,'Close':1.37980},
    {'Date':'2024-10-21','Open':1.37975,'High':1.38494,'Low':1.37949,'Close':1.38303},
    {'Date':'2024-10-22','Open':1.38295,'High':1.38377,'Low':1.38137,'Close':1.38158},
    {'Date':'2024-10-23','Open':1.38150,'High':1.38625,'Low':1.38048,'Close':1.38339},
    {'Date':'2024-10-24','Open':1.38338,'High':1.38684,'Low':1.38125,'Close':1.38537},
    {'Date':'2024-10-25','Open':1.38492,'High':1.38972,'Low':1.38381,'Close':1.38913},
    {'Date':'2024-10-28','Open':1.38877,'High':1.39082,'Low':1.38703,'Close':1.38891},
    {'Date':'2024-10-29','Open':1.38891,'High':1.39293,'Low':1.38763,'Close':1.39125},
    {'Date':'2024-10-30','Open':1.39109,'High':1.39402,'Low':1.38949,'Close':1.38989},
    {'Date':'2024-10-31','Open':1.38989,'High':1.39452,'Low':1.38908,'Close':1.39294},

    # ===================== 2024-11 =====================
    {'Date':'2024-11-01','Open':1.39288,'High':1.39588,'Low':1.39025,'Close':1.39490},
    {'Date':'2024-11-04','Open':1.39204,'High':1.39291,'Low':1.38749,'Close':1.38990},
    {'Date':'2024-11-05','Open':1.39002,'High':1.39065,'Low':1.38208,'Close':1.38224},
    {'Date':'2024-11-06','Open':1.38227,'High':1.39583,'Low':1.38151,'Close':1.39362},
    {'Date':'2024-11-07','Open':1.39359,'High':1.39480,'Low':1.38421,'Close':1.38582},
    {'Date':'2024-11-08','Open':1.38576,'High':1.39277,'Low':1.38502,'Close':1.39082},
    {'Date':'2024-11-11','Open':1.39079,'High':1.39505,'Low':1.39027,'Close':1.39234},
    {'Date':'2024-11-12','Open':1.39182,'High':1.39671,'Low':1.39141,'Close':1.39417},
    {'Date':'2024-11-13','Open':1.39373,'High':1.40025,'Low':1.39306,'Close':1.39931},
    {'Date':'2024-11-14','Open':1.39920,'High':1.40643,'Low':1.39878,'Close':1.40578},
    {'Date':'2024-11-15','Open':1.40515,'High':1.41052,'Low':1.40331,'Close':1.40863},
    {'Date':'2024-11-18','Open':1.40900,'High':1.41024,'Low':1.40039,'Close':1.40122},
    {'Date':'2024-11-19','Open':1.40097,'High':1.40364,'Low':1.39536,'Close':1.39537},
    {'Date':'2024-11-20','Open':1.39537,'High':1.40142,'Low':1.39504,'Close':1.39732},
    {'Date':'2024-11-21','Open':1.39717,'High':1.39780,'Low':1.39311,'Close':1.39717},
    {'Date':'2024-11-22','Open':1.39719,'High':1.40209,'Low':1.39577,'Close':1.39746},
    {'Date':'2024-11-25','Open':1.39505,'High':1.40071,'Low':1.39274,'Close':1.39839},
    {'Date':'2024-11-26','Open':1.39826,'High':1.41777,'Low':1.39763,'Close':1.40503},
    {'Date':'2024-11-27','Open':1.40514,'High':1.40778,'Low':1.40093,'Close':1.40241},
    {'Date':'2024-11-28','Open':1.40234,'High':1.40313,'Low':1.39984,'Close':1.40101},
    {'Date':'2024-11-29','Open':1.40022,'High':1.40454,'Low':1.39806,'Close':1.39958},

    # ===================== 2024-12 =====================
    {'Date':'2024-12-02','Open':1.39910,'High':1.40895,'Low':1.39866,'Close':1.40394},
    {'Date':'2024-12-03','Open':1.40395,'High':1.40757,'Low':1.40091,'Close':1.40601},
    {'Date':'2024-12-04','Open':1.40607,'High':1.40830,'Low':1.40519,'Close':1.40594},
    {'Date':'2024-12-05','Open':1.40624,'High':1.40792,'Low':1.40103,'Close':1.40142},
    {'Date':'2024-12-06','Open':1.40149,'High':1.41645,'Low':1.40131,'Close':1.41552},
    {'Date':'2024-12-09','Open':1.41526,'High':1.41748,'Low':1.40932,'Close':1.41636},
    {'Date':'2024-12-10','Open':1.41612,'High':1.41947,'Low':1.41556,'Close':1.41745},
    {'Date':'2024-12-11','Open':1.41756,'High':1.41944,'Low':1.41198,'Close':1.41517},
    {'Date':'2024-12-12','Open':1.41458,'High':1.42276,'Low':1.41311,'Close':1.42144},
    {'Date':'2024-12-13','Open':1.42141,'High':1.42448,'Low':1.42093,'Close':1.42294},
    {'Date':'2024-12-16','Open':1.42247,'High':1.42704,'Low':1.42168,'Close':1.42342},
    {'Date':'2024-12-17','Open':1.42354,'High':1.43233,'Low':1.42287,'Close':1.43031},
    {'Date':'2024-12-18','Open':1.43019,'High':1.44484,'Low':1.42935,'Close':1.44410},
    {'Date':'2024-12-19','Open':1.44384,'High':1.44668,'Low':1.43443,'Close':1.43908},
    {'Date':'2024-12-20','Open':1.43929,'High':1.44352,'Low':1.43352,'Close':1.43698},
    {'Date':'2024-12-23','Open':1.43650,'High':1.44331,'Low':1.43490,'Close':1.43622},
    {'Date':'2024-12-24','Open':1.43606,'High':1.44200,'Low':1.43444,'Close':1.43444},
    {'Date':'2024-12-25','Open':1.43460,'High':1.43493,'Low':1.43454,'Close':1.43461},
    {'Date':'2024-12-26','Open':1.43620,'High':1.44204,'Low':1.43337,'Close':1.43998},
    {'Date':'2024-12-27','Open':1.43968,'High':1.44492,'Low':1.43747,'Close':1.44126},
    {'Date':'2024-12-30','Open':1.44086,'High':1.44328,'Low':1.43449,'Close':1.43534},
    {'Date':'2024-12-31','Open':1.43550,'High':1.44093,'Low':1.43381,'Close':1.43770},

    # ===================== 2025-01 =====================
    {'Date':'2025-01-02','Open':1.43750,'High':1.44417,'Low':1.43691,'Close':1.43934},
    {'Date':'2025-01-03','Open':1.43948,'High':1.44633,'Low':1.43831,'Close':1.44450},
    {'Date':'2025-01-06','Open':1.44440,'High':1.44505,'Low':1.42798,'Close':1.43279},
    {'Date':'2025-01-07','Open':1.43239,'High':1.43700,'Low':1.42978,'Close':1.43578},
    {'Date':'2025-01-08','Open':1.43584,'High':1.44095,'Low':1.43391,'Close':1.43655},
]

############################################################################
# 2) PREP THE DATA
############################################################################

def load_full_2024_data():
    """
    Create a DataFrame from the entire train_data array (2023-01-02 -> 2025-01-02).
    We'll keep the function name 'load_full_2024_data' for consistency,
    even though it now holds data spanning 2023 -> 2025.

    We'll drop 'Mid' since it's not used, then we add advanced 'strategy' columns:
      - 'LiquiditySweep' (bool)
      - 'FairValueGap'   (bool)
      - 'OrderBlock'     (bool)
      - 'ATR-based'      (float)
    etc.

    This is a simplified demonstration.
    """
    df = pd.DataFrame(train_data)
    df['Date'] = pd.to_datetime(df['Date'])
    df.set_index('Date', inplace=True)
    df.sort_index(inplace=True)

    # Add advanced structure features (mock-up placeholders).
    df = add_advanced_market_structure(df)
    return df

def add_advanced_market_structure(df):
    """
    This function demonstrates how you might incorporate
    advanced “price action” or “strategy-based” features
    into your dataset for the ML model.

    We'll create a few columns:
    - 'LiquiditySweep': 1 if today's Low breaks the previous Low, then closes back up
    - 'FairValueGap':   1 if there's a gap between today's Low and previous High
    - 'OrderBlock':     1 if we have a big impulsive move from a previous candle
    - 'ATR': a rough measure of volatility

    In actual practice, you'd refine the detection logic
    for each concept:
      * Checking wicks above/below key levels
      * Identifying multi-candle patterns
      * FVG detection using actual gap scanning
      * Etc.
    """
    df['LiquiditySweep'] = 0
    df['FairValueGap']   = 0
    df['OrderBlock']     = 0
    df['ATR']            = 0.0

    # We'll do a naive approach just to illustrate:

    # 1) ATR calculation (14-day naive ATR)
    #    ATR ~ average of (High - Low)
    df['Range'] = df['High'] - df['Low']
    df['ATR'] = df['Range'].rolling(window=14, min_periods=1).mean()

    # 2) Identify if today's Low is lower than yesterday's Low, but we closed above yesterday's Close => "Liquidity sweep"
    #    We'll start from second row onward
    df['prevLow']   = df['Low'].shift(1)
    df['prevClose'] = df['Close'].shift(1)
    condition_liquidity = (df['Low'] < df['prevLow']) & (df['Close'] > df['prevClose'])
    df.loc[condition_liquidity, 'LiquiditySweep'] = 1

    # 3) Identify naive "FairValueGap" if today's Low is above yesterday's High => gap
    df['prevHigh'] = df['High'].shift(1)
    condition_fvg = (df['Low'] > df['prevHigh'])
    df.loc[condition_fvg, 'FairValueGap'] = 1

    # 4) "OrderBlock" placeholder: if a candle is 2x bigger (range) than the 5-day average => we label it as an “impulsive” candle => OB
    df['AvgRange_5'] = df['Range'].rolling(window=5, min_periods=1).mean()
    condition_ob = (df['Range'] > 2.0 * df['AvgRange_5'])
    df.loc[condition_ob, 'OrderBlock'] = 1

    # Drop temp columns used for intermediate calculations
    df.drop(columns=['Range','prevLow','prevClose','prevHigh','AvgRange_5'], inplace=True)

    return df

def clean_data(df):
    """
    Simple cleaning: sort, remove duplicates, drop NaN if any exist.
    We'll keep the advanced columns as part of the dataset now.
    """
    df.sort_index(inplace=True)
    df = df[~df.index.duplicated(keep='first')]
    df.dropna(inplace=True)
    return df

############################################################################
# 3) BUILD DATASET (multi-window, single-step)
############################################################################

def build_dataset(df, w_max=5):
    """
    We'll do single-step next-day forecasting:
      X = flattened last w days of O,H,L,C + new 'strategy' features
      Y = next day's [Low, High, Close]

    We'll gather multiple windows: w=1..w_max.
    Each day’s advanced columns (LiquiditySweep, FairValueGap, OrderBlock, ATR)
    are also included for each day in the window.

    Return X, Y, plus meta_info for reference.
    """
    # The main OHLC columns
    df_np_ohlc = df[['Open','High','Low','Close']].values
    # The advanced strategy columns
    df_np_strat = df[['LiquiditySweep','FairValueGap','OrderBlock','ATR']].values

    dates = df.index.to_list()
    n = len(df_np_ohlc)

    # We'll store all training samples in these lists.
    X_list, Y_list, info_list = [], [], []

    # For each day in the window, we have 4 OHLC + 4 strategy = 8 columns
    # So for w days, that's w * 8 columns total
    num_cols_per_day = 8
    max_len = w_max * num_cols_per_day

    for w in range(1, w_max+1):
        for t in range(w, n):
            if t >= n:
                break
            # Collect last w days for OHLC + strategies
            # shape (w, 8)
            slice_ohlc = df_np_ohlc[t-w : t, :]
            slice_strat= df_np_strat[t-w : t, :]
            window_data = np.hstack([slice_ohlc, slice_strat])  # shape (w,8)

            # Flatten that window
            window_flat = window_data.flatten()

            # Pad if needed so all features have consistent length
            padded = np.zeros(max_len, dtype=float)
            start_idx = max_len - len(window_flat)
            padded[start_idx:] = window_flat

            # Next-day’s O,H,L,C is day t
            future_day = df_np_ohlc[t]   # shape(4,)
            day_low   = future_day[2]
            day_high  = future_day[1]
            day_close = future_day[3]
            target = np.array([day_low, day_high, day_close], dtype=float)

            # Optionally embed w as a feature
            feature = np.concatenate([padded, [float(w)]], axis=0)

            X_list.append(feature)
            Y_list.append(target)
            info_list.append((w, dates[t]))

    X = np.array(X_list, dtype=float)
    Y = np.array(Y_list, dtype=float)
    return X, Y, info_list

############################################################################
# 4) TRAIN MODEL (MultiOutputRegressor w/ LinearRegression)
############################################################################

from sklearn.multioutput import MultiOutputRegressor
from sklearn.linear_model import LinearRegression

def train_model(X, Y):
    """
    Train a multi-output regressor (LinearRegression).
    Potentially you could add further pipeline steps,
    e.g. scaling, cross-validation, or even a more
    advanced regressor. But we’ll keep it as is.
    """
    base = LinearRegression()
    model = MultiOutputRegressor(base)
    model.fit(X, Y)
    return model

############################################################################
# 5) PREDICT THE NEXT DAY (2025-01-03)
############################################################################

def predict_next_trading_day(df, model, w_max=5):
    """
    We'll define the 'latest day' in df as 2025-01-02 (the last row).
    We gather the last w_max rows of OHLC + advanced columns, flatten,
    and predict day 2025-01-03.

    We replicate the same process as build_dataset, but only for the
    final w_max days. Then feed the flattened/padded vector to the model.
    """
    # We'll slice the final w_max rows
    recent_ohlc   = df[['Open','High','Low','Close']].tail(w_max).values
    recent_strat  = df[['LiquiditySweep','FairValueGap','OrderBlock','ATR']].tail(w_max).values
    # shape (w_max, 4), shape (w_max, 4) => combined (w_max,8)
    combined_block = []
    for i in range(w_max):
        row_ohlc  = recent_ohlc[i]
        row_strat = recent_strat[i]
        row_comb  = np.hstack([row_ohlc, row_strat])  # shape(8,)
        combined_block.append(row_comb)
    combined_block = np.array(combined_block)  # shape(w_max,8)

    window_flat = combined_block.flatten()

    # same dimension as in build_dataset
    num_cols_per_day = 8
    max_len = w_max * num_cols_per_day

    padded = np.zeros(max_len, dtype=float)
    start_idx = max_len - len(window_flat)
    padded[start_idx:] = window_flat

    # Add the (float(w_max)) at the end
    final_feature = np.concatenate([padded, [float(w_max)]], axis=0).reshape(1, -1)

    pred = model.predict(final_feature)[0]  # shape (3,)
    pred_low, pred_high, pred_close = pred
    return pred_low, pred_high, pred_close

############################################################################
# 6) MAIN: Tying it all together
############################################################################

def main():
    """
    This main function loads the data, cleans it, integrates
    advanced strategies (liquidity sweeps, FVG, order blocks, ATR),
    builds a multi-window dataset for next-day forecasting,
    trains the MultiOutputRegressor(LinearRegression),
    then predicts the next day after 2025-01-02 (which is 2025-01-03).
    """
    # 1) Load + advanced columns
    df_2024 = load_full_2024_data()

    # 2) Clean
    df_2024 = clean_data(df_2024)

    # We'll exclude the final row (the day 2025-01-02) from training,
    # so that row is only used for the model’s next-day forecast
    final_index = df_2024.index[-1]
    df_train = df_2024.iloc[:-1].copy()
    print(f"Training on {len(df_train)} rows. Final row excluded: {final_index}")

    # 3) Build dataset (multi-window approach)
    X, Y, info = build_dataset(df_train, w_max=5)
    print(f"Dataset shapes: X={X.shape}, Y={Y.shape}")
    print("Sample info last 5:\n", info[-5:])

    # 4) Train the model
    model = train_model(X, Y)
    print("Model training complete.")

    # 5) Predict next day => 2025-01-03
    pred_low, pred_high, pred_close = predict_next_trading_day(df_2024, model, w_max=5)

    print("\n=== PREDICTION FOR 2025-01-07 ===")
    print(f"Predicted Low:   {pred_low:.5f}")
    print(f"Predicted High:  {pred_high:.5f}")
    print(f"Predicted Close: {pred_close:.5f}")

    # 6) Summarize how the advanced concepts are being used
    print("\n--- Integrated Strategy Concepts ---")
    print("We have columns for LiquiditySweep, FairValueGap, OrderBlock, ATR in the dataset,")
    print("which attempt to capture advanced price action signals and volatility.")
    print("These features are included in the input window for each day, hopefully helping")
    print("the model refine its next-day predictions beyond simple OHLC data alone.\n")

if __name__ == "__main__":
    main()
