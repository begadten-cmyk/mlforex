import pandas as pd
import numpy as np
import datetime

from sklearn.multioutput import MultiOutputRegressor
from sklearn.linear_model import LinearRegression

############################################################################
# 1) FULL DATA (2023-01-02 -> 2025-01-02),
#    EXACTLY as you provided, stored in 'train_data'.
#    We only use O,H,L,C for the ML portion, but we’ll integrate
#    “strategy-based features” that attempt to capture advanced structure.
############################################################################

train_data = [

    # ===================== 2023-01 =====================
    {'Date':'2023-01-02','Open':1.20782,'High':1.20783,'Low':1.20350,'Close':1.20458},
    {'Date':'2023-01-03','Open':1.20432,'High':1.20848,'Low':1.19003,'Close':1.19655},
    {'Date':'2023-01-04','Open':1.19616,'High':1.20876,'Low':1.19572,'Close':1.20532},
    {'Date':'2023-01-05','Open':1.20523,'High':1.20778,'Low':1.18732,'Close':1.19128},
    {'Date':'2023-01-06','Open':1.19098,'High':1.20991,'Low':1.18414,'Close':1.20945},
    {'Date':'2023-01-09','Open':1.20770,'High':1.22100,'Low':1.20760,'Close':1.21836},
    {'Date':'2023-01-10','Open':1.21842,'High':1.21982,'Low':1.21099,'Close':1.21495},
    {'Date':'2023-01-11','Open':1.21466,'High':1.21781,'Low':1.21003,'Close':1.21483},
    {'Date':'2023-01-12','Open':1.21436,'High':1.22466,'Low':1.20882,'Close':1.22079},
    {'Date':'2023-01-13','Open':1.22069,'High':1.22484,'Low':1.21507,'Close':1.22351},
    {'Date':'2023-01-16','Open':1.22100,'High':1.22890,'Low':1.21716,'Close':1.21917},
    {'Date':'2023-01-17','Open':1.21901,'High':1.23000,'Low':1.21693,'Close':1.22875},
    {'Date':'2023-01-18','Open':1.22862,'High':1.24359,'Low':1.22538,'Close':1.23467},
    {'Date':'2023-01-19','Open':1.23467,'High':1.23973,'Low':1.23130,'Close':1.23882},
    {'Date':'2023-01-20','Open':1.23880,'High':1.24041,'Low':1.23353,'Close':1.23993},
    {'Date':'2023-01-23','Open':1.23978,'High':1.24477,'Low':1.23234,'Close':1.23758},
    {'Date':'2023-01-24','Open':1.23742,'High':1.24138,'Low':1.22630,'Close':1.23343},
    {'Date':'2023-01-25','Open':1.23282,'High':1.24039,'Low':1.22830,'Close':1.23995},
    {'Date':'2023-01-26','Open':1.23974,'High':1.24302,'Low':1.23445,'Close':1.24078},
    {'Date':'2023-01-27','Open':1.24082,'High':1.24184,'Low':1.23453,'Close':1.23976},
    {'Date':'2023-01-30','Open':1.23897,'High':1.24173,'Low':1.23370,'Close':1.23495},
    {'Date':'2023-01-31','Open':1.23456,'High':1.23707,'Low':1.22842,'Close':1.23191},

    # ===================== 2023-02 =====================
    {'Date':'2023-02-01','Open':1.23151,'High':1.23947,'Low':1.22724,'Close':1.23733},
    {'Date':'2023-02-02','Open':1.23718,'High':1.24010,'Low':1.22214,'Close':1.22237},
    {'Date':'2023-02-03','Open':1.22236,'High':1.22654,'Low':1.20471,'Close':1.20506},
    {'Date':'2023-02-06','Open':1.20297,'High':1.20774,'Low':1.20056,'Close':1.20171},
    {'Date':'2023-02-07','Open':1.20197,'High':1.20954,'Low':1.19611,'Close':1.20469},
    {'Date':'2023-02-08','Open':1.20433,'High':1.21096,'Low':1.20300,'Close':1.20698},
    {'Date':'2023-02-09','Open':1.20662,'High':1.21937,'Low':1.20566,'Close':1.21200},
    {'Date':'2023-02-10','Open':1.21175,'High':1.21393,'Low':1.20470,'Close':1.20578},
    {'Date':'2023-02-13','Open':1.20630,'High':1.21520,'Low':1.20308,'Close':1.21381},
    {'Date':'2023-02-14','Open':1.21342,'High':1.22703,'Low':1.21171,'Close':1.21729},
    {'Date':'2023-02-15','Open':1.21669,'High':1.21814,'Low':1.19894,'Close':1.20320},
    {'Date':'2023-02-16','Open':1.20237,'High':1.20742,'Low':1.19652,'Close':1.19907},
    {'Date':'2023-02-17','Open':1.19878,'High':1.20493,'Low':1.19149,'Close':1.20401},
    {'Date':'2023-02-20','Open':1.20227,'High':1.20569,'Low':1.20144,'Close':1.20383},
    {'Date':'2023-02-21','Open':1.20369,'High':1.21476,'Low':1.19860,'Close':1.21112},
    {'Date':'2023-02-22','Open':1.21115,'High':1.21353,'Low':1.20344,'Close':1.20456},
    {'Date':'2023-02-23','Open':1.20437,'High':1.20749,'Low':1.19921,'Close':1.20135},
    {'Date':'2023-02-24','Open':1.20105,'High':1.20421,'Low':1.19283,'Close':1.19392},
    {'Date':'2023-02-27','Open':1.19500,'High':1.20658,'Low':1.19226,'Close':1.20619},
    {'Date':'2023-02-28','Open':1.20615,'High':1.21431,'Low':1.20209,'Close':1.20214},

    # ===================== 2023-03 =====================
    {'Date':'2023-03-01','Open':1.20215,'High':1.20890,'Low':1.19650,'Close':1.20257},
    {'Date':'2023-03-02','Open':1.20256,'High':1.20362,'Low':1.19249,'Close':1.19478},
    {'Date':'2023-03-03','Open':1.19472,'High':1.20484,'Low':1.19319,'Close':1.20435},
    {'Date':'2023-03-06','Open':1.20207,'High':1.20489,'Low':1.19927,'Close':1.20262},
    {'Date':'2023-03-07','Open':1.20245,'High':1.20653,'Low':1.18212,'Close':1.18266},
    {'Date':'2023-03-08','Open':1.18249,'High':1.18591,'Low':1.18030,'Close':1.18429},
    {'Date':'2023-03-09','Open':1.18428,'High':1.19388,'Low':1.18238,'Close':1.19217},
    {'Date':'2023-03-10','Open':1.19213,'High':1.21136,'Low':1.19075,'Close':1.20311},
    {'Date':'2023-03-13','Open':1.20868,'High':1.21997,'Low':1.20465,'Close':1.21819},
    {'Date':'2023-03-14','Open':1.21860,'High':1.22041,'Low':1.21355,'Close':1.21518},
    {'Date':'2023-03-15','Open':1.21518,'High':1.21815,'Low':1.20103,'Close':1.20412},
    {'Date':'2023-03-16','Open':1.20411,'High':1.21277,'Low':1.20271,'Close':1.21062},
    {'Date':'2023-03-17','Open':1.21062,'High':1.22006,'Low':1.21018,'Close':1.21761},
    {'Date':'2023-03-20','Open':1.22033,'High':1.22849,'Low':1.21670,'Close':1.22729},
    {'Date':'2023-03-21','Open':1.22729,'High':1.22824,'Low':1.21786,'Close':1.22178},
    {'Date':'2023-03-22','Open':1.22143,'High':1.23353,'Low':1.22083,'Close':1.22643},
    {'Date':'2023-03-23','Open':1.22643,'High':1.23435,'Low':1.22612,'Close':1.22881},
    {'Date':'2023-03-24','Open':1.22884,'High':1.22920,'Low':1.21902,'Close':1.22307},
    {'Date':'2023-03-27','Open':1.22265,'High':1.22932,'Low':1.22191,'Close':1.22878},
    {'Date':'2023-03-28','Open':1.22865,'High':1.23492,'Low':1.22751,'Close':1.23385},
    {'Date':'2023-03-29','Open':1.23388,'High':1.23616,'Low':1.23025,'Close':1.23166},
    {'Date':'2023-03-30','Open':1.23136,'High':1.23929,'Low':1.22935,'Close':1.23872},
    {'Date':'2023-03-31','Open':1.23866,'High':1.24227,'Low':1.23243,'Close':1.23308},

    # ===================== 2023-04 =====================
    {'Date':'2023-04-03','Open':1.23247,'High':1.24233,'Low':1.22745,'Close':1.24172},
    {'Date':'2023-04-04','Open':1.24165,'High':1.25253,'Low':1.23950,'Close':1.25010},
    {'Date':'2023-04-05','Open':1.24981,'High':1.25144,'Low':1.24326,'Close':1.24595},
    {'Date':'2023-04-06','Open':1.24594,'High':1.24868,'Low':1.24126,'Close':1.24379},
    {'Date':'2023-04-07','Open':1.24369,'High':1.24559,'Low':1.23890,'Close':1.24164},
    {'Date':'2023-04-10','Open':1.24130,'High':1.24424,'Low':1.23443,'Close':1.23824},
    {'Date':'2023-04-11','Open':1.23809,'High':1.24564,'Low':1.23769,'Close':1.24257},
    {'Date':'2023-04-12','Open':1.24237,'High':1.24952,'Low':1.23982,'Close':1.24844},
    {'Date':'2023-04-13','Open':1.24824,'High':1.25375,'Low':1.24759,'Close':1.25237},
    {'Date':'2023-04-14','Open':1.25213,'High':1.25461,'Low':1.23991,'Close':1.24137},
    {'Date':'2023-04-17','Open':1.24022,'High':1.24383,'Low':1.23532,'Close':1.23769},
    {'Date':'2023-04-18','Open':1.23757,'High':1.24499,'Low':1.23602,'Close':1.24254},
    {'Date':'2023-04-19','Open':1.24231,'High':1.24742,'Low':1.23922,'Close':1.24375},
    {'Date':'2023-04-20','Open':1.24384,'High':1.24677,'Low':1.24046,'Close':1.24432},
    {'Date':'2023-04-21','Open':1.24414,'High':1.24481,'Low':1.23668,'Close':1.24436},
    {'Date':'2023-04-24','Open':1.24384,'High':1.24855,'Low':1.24106,'Close':1.24836},
    {'Date':'2023-04-25','Open':1.24847,'High':1.25068,'Low':1.23866,'Close':1.24109},
    {'Date':'2023-04-26','Open':1.24082,'High':1.25154,'Low':1.24011,'Close':1.24697},
    {'Date':'2023-04-27','Open':1.24667,'High':1.25000,'Low':1.24360,'Close':1.24987},
    {'Date':'2023-04-28','Open':1.24963,'High':1.25838,'Low':1.24464,'Close':1.25675},

    # ===================== 2023-05 =====================
    {'Date':'2023-05-01','Open':1.25550,'High':1.25699,'Low':1.24804,'Close':1.24934},
    {'Date':'2023-05-02','Open':1.24937,'High':1.25120,'Low':1.24357,'Close':1.24679},
    {'Date':'2023-05-03','Open':1.24663,'High':1.25899,'Low':1.24599,'Close':1.25634},
    {'Date':'2023-05-04','Open':1.25630,'High':1.25986,'Low':1.25385,'Close':1.25723},
    {'Date':'2023-05-05','Open':1.25711,'High':1.26526,'Low':1.25600,'Close':1.26310},
    {'Date':'2023-05-08','Open':1.26290,'High':1.26687,'Low':1.26129,'Close':1.26190},
    {'Date':'2023-05-09','Open':1.26168,'High':1.26397,'Low':1.25780,'Close':1.26212},
    {'Date':'2023-05-10','Open':1.26197,'High':1.26798,'Low':1.26025,'Close':1.26252},
    {'Date':'2023-05-11','Open':1.26237,'High':1.26405,'Low':1.24965,'Close':1.25129},
    {'Date':'2023-05-12','Open':1.25105,'High':1.25409,'Low':1.24446,'Close':1.24481},
    {'Date':'2023-05-15','Open':1.24460,'High':1.25345,'Low':1.24432,'Close':1.25268},
    {'Date':'2023-05-16','Open':1.25266,'High':1.25465,'Low':1.24653,'Close':1.24833},
    {'Date':'2023-05-17','Open':1.24831,'High':1.25103,'Low':1.24216,'Close':1.24857},
    {'Date':'2023-05-18','Open':1.24846,'High':1.24928,'Low':1.23916,'Close':1.24077},
    {'Date':'2023-05-19','Open':1.24073,'High':1.24843,'Low':1.23917,'Close':1.24461},
    {'Date':'2023-05-22','Open':1.24380,'High':1.24720,'Low':1.24138,'Close':1.24374},
    {'Date':'2023-05-23','Open':1.24353,'High':1.24463,'Low':1.23728,'Close':1.24156},
    {'Date':'2023-05-24','Open':1.24132,'High':1.24695,'Low':1.23576,'Close':1.23659},
    {'Date':'2023-05-25','Open':1.23633,'High':1.23870,'Low':1.23079,'Close':1.23207},
    {'Date':'2023-05-26','Open':1.23203,'High':1.23953,'Low':1.23107,'Close':1.23503},
    {'Date':'2023-05-29','Open':1.23325,'High':1.23719,'Low':1.23320,'Close':1.23554},
    {'Date':'2023-05-30','Open':1.23516,'High':1.24465,'Low':1.23271,'Close':1.24120},
    {'Date':'2023-05-31','Open':1.24108,'High':1.24433,'Low':1.23479,'Close':1.24427},

    # ===================== 2023-06 =====================
    {'Date':'2023-06-01','Open':1.24380,'High':1.25396,'Low':1.24007,'Close':1.25258},
    {'Date':'2023-06-02','Open':1.25246,'High':1.25445,'Low':1.24413,'Close':1.24500},
    {'Date':'2023-06-05','Open':1.24422,'High':1.24535,'Low':1.23682,'Close':1.24341},
    {'Date':'2023-06-06','Open':1.24320,'High':1.24587,'Low':1.23915,'Close':1.24223},
    {'Date':'2023-06-07','Open':1.24223,'High':1.25001,'Low':1.23950,'Close':1.24381},
    {'Date':'2023-06-08','Open':1.24360,'High':1.25607,'Low':1.24243,'Close':1.25579},
    {'Date':'2023-06-09','Open':1.25590,'High':1.25903,'Low':1.25340,'Close':1.25795},
    {'Date':'2023-06-12','Open':1.25570,'High':1.25994,'Low':1.24868,'Close':1.25133},
    {'Date':'2023-06-13','Open':1.25103,'High':1.26248,'Low':1.24931,'Close':1.26108},
    {'Date':'2023-06-14','Open':1.26100,'High':1.26990,'Low':1.25905,'Close':1.26606},
    {'Date':'2023-06-15','Open':1.26598,'High':1.27855,'Low':1.26294,'Close':1.27834},
    {'Date':'2023-06-16','Open':1.27834,'High':1.28482,'Low':1.27681,'Close':1.28202},
    {'Date':'2023-06-19','Open':1.28175,'High':1.28367,'Low':1.27705,'Close':1.27870},
    {'Date':'2023-06-20','Open':1.27911,'High':1.28064,'Low':1.27135,'Close':1.27636},
    {'Date':'2023-06-21','Open':1.27639,'High':1.28027,'Low':1.26911,'Close':1.27675},
    {'Date':'2023-06-22','Open':1.27683,'High':1.28448,'Low':1.27256,'Close':1.27463},
    {'Date':'2023-06-23','Open':1.27407,'High':1.27488,'Low':1.26847,'Close':1.27143},
    {'Date':'2023-06-26','Open':1.27074,'High':1.27486,'Low':1.26878,'Close':1.27108},
    {'Date':'2023-06-27','Open':1.27073,'High':1.27594,'Low':1.27033,'Close':1.27483},
    {'Date':'2023-06-28','Open':1.27485,'High':1.27518,'Low':1.26064,'Close':1.26345},
    {'Date':'2023-06-29','Open':1.26348,'High':1.26669,'Low':1.25910,'Close':1.26119},
    {'Date':'2023-06-30','Open':1.26129,'High':1.27276,'Low':1.25993,'Close':1.26930},

    # ===================== 2023-07 =====================
    {'Date':'2023-07-03','Open':1.26849,'High':1.27232,'Low':1.26583,'Close':1.26907},
    {'Date':'2023-07-04','Open':1.26911,'High':1.27391,'Low':1.26748,'Close':1.27091},
    {'Date':'2023-07-05','Open':1.27090,'High':1.27353,'Low':1.26880,'Close':1.27036},
    {'Date':'2023-07-06','Open':1.26906,'High':1.27808,'Low':1.26734,'Close':1.27395},
    {'Date':'2023-07-07','Open':1.27312,'High':1.28494,'Low':1.27257,'Close':1.28383},
    {'Date':'2023-07-10','Open':1.28256,'High':1.28682,'Low':1.27501,'Close':1.28607},
    {'Date':'2023-07-11','Open':1.28563,'High':1.29349,'Low':1.28507,'Close':1.29300},
    {'Date':'2023-07-12','Open':1.29321,'High':1.30007,'Low':1.29040,'Close':1.29868},
    {'Date':'2023-07-13','Open':1.29856,'High':1.31409,'Low':1.29746,'Close':1.31348},
    {'Date':'2023-07-14','Open':1.31291,'High':1.31422,'Low':1.30934,'Close':1.30979},
    {'Date':'2023-07-17','Open':1.30824,'High':1.31089,'Low':1.30509,'Close':1.30725},
    {'Date':'2023-07-18','Open':1.30725,'High':1.31256,'Low':1.30280,'Close':1.30343},
    {'Date':'2023-07-19','Open':1.30340,'High':1.30414,'Low':1.28674,'Close':1.29391},
    {'Date':'2023-07-20','Open':1.29387,'High':1.29642,'Low':1.28398,'Close':1.28665},
    {'Date':'2023-07-21','Open':1.28663,'High':1.29040,'Low':1.28158,'Close':1.28517},
    {'Date':'2023-07-24','Open':1.28490,'High':1.28838,'Low':1.27978,'Close':1.28247},
    {'Date':'2023-07-25','Open':1.28208,'High':1.29046,'Low':1.28075,'Close':1.29019},
    {'Date':'2023-07-26','Open':1.29014,'High':1.29600,'Low':1.28751,'Close':1.29405},
    {'Date':'2023-07-27','Open':1.29410,'High':1.29958,'Low':1.27817,'Close':1.27955},
    {'Date':'2023-07-28','Open':1.27938,'High':1.28882,'Low':1.27629,'Close':1.28457},
    {'Date':'2023-07-31','Open':1.28328,'High':1.28723,'Low':1.28283,'Close':1.28343},

    # ===================== 2023-08 =====================
    {'Date':'2023-08-01','Open':1.28343,'High':1.28407,'Low':1.27412,'Close':1.27740},
    {'Date':'2023-08-02','Open':1.27746,'High':1.28049,'Low':1.26801,'Close':1.27090},
    {'Date':'2023-08-03','Open':1.27106,'High':1.27277,'Low':1.26200,'Close':1.27079},
    {'Date':'2023-08-04','Open':1.27125,'High':1.27921,'Low':1.26826,'Close':1.27443},
    {'Date':'2023-08-07','Open':1.27530,'High':1.27889,'Low':1.27129,'Close':1.27827},
    {'Date':'2023-08-08','Open':1.27829,'High':1.27851,'Low':1.26840,'Close':1.27472},
    {'Date':'2023-08-09','Open':1.27446,'High':1.27820,'Low':1.27119,'Close':1.27181},
    {'Date':'2023-08-10','Open':1.27167,'High':1.28188,'Low':1.26693,'Close':1.26756},
    {'Date':'2023-08-11','Open':1.26737,'High':1.27385,'Low':1.26618,'Close':1.26918},
    {'Date':'2023-08-14','Open':1.26970,'High':1.27148,'Low':1.26164,'Close':1.26811},
    {'Date':'2023-08-15','Open':1.26783,'High':1.27523,'Low':1.26667,'Close':1.27033},
    {'Date':'2023-08-16','Open':1.27033,'High':1.27662,'Low':1.26847,'Close':1.27305},
    {'Date':'2023-08-17','Open':1.27304,'High':1.27873,'Low':1.27023,'Close':1.27459},
    {'Date':'2023-08-18','Open':1.27454,'High':1.27657,'Low':1.26888,'Close':1.27309},
    {'Date':'2023-08-21','Open':1.27330,'High':1.27666,'Low':1.27101,'Close':1.27554},
    {'Date':'2023-08-22','Open':1.27471,'High':1.28003,'Low':1.27183,'Close':1.27313},
    {'Date':'2023-08-23','Open':1.27320,'High':1.27646,'Low':1.26145,'Close':1.27250},
    {'Date':'2023-08-24','Open':1.27158,'High':1.27284,'Low':1.25906,'Close':1.26005},
    {'Date':'2023-08-25','Open':1.25961,'High':1.26551,'Low':1.25477,'Close':1.25768},
    {'Date':'2023-08-28','Open':1.25693,'High':1.26107,'Low':1.25653,'Close':1.26010},
    {'Date':'2023-08-29','Open':1.26004,'High':1.26546,'Low':1.25626,'Close':1.26433},
    {'Date':'2023-08-30','Open':1.26433,'High':1.27463,'Low':1.26187,'Close':1.27201},
    {'Date':'2023-08-31','Open':1.27170,'High':1.27342,'Low':1.26525,'Close':1.26734},

    # ===================== 2023-09 =====================
    {'Date':'2023-09-01','Open':1.26728,'High':1.27129,'Low':1.25771,'Close':1.25845},
    {'Date':'2023-09-04','Open':1.25900,'High':1.26425,'Low':1.25823,'Close':1.26235},
    {'Date':'2023-09-05','Open':1.26208,'High':1.26315,'Low':1.25279,'Close':1.25635},
    {'Date':'2023-09-06','Open':1.25623,'High':1.25876,'Low':1.24817,'Close':1.25062},
    {'Date':'2023-09-07','Open':1.25056,'High':1.25081,'Low':1.24454,'Close':1.24709},
    {'Date':'2023-09-08','Open':1.24725,'High':1.25142,'Low':1.24509,'Close':1.24642},
    {'Date':'2023-09-11','Open':1.24628,'High':1.25481,'Low':1.24608,'Close':1.25095},
    {'Date':'2023-09-12','Open':1.25088,'High':1.25301,'Low':1.24594,'Close':1.24849},
    {'Date':'2023-09-13','Open':1.24886,'High':1.25116,'Low':1.24343,'Close':1.24897},
    {'Date':'2023-09-14','Open':1.24827,'High':1.25061,'Low':1.23962,'Close':1.24077},
    {'Date':'2023-09-15','Open':1.24069,'High':1.24456,'Low':1.23785,'Close':1.23809},
    {'Date':'2023-09-18','Open':1.23762,'High':1.24105,'Low':1.23701,'Close':1.23813},
    {'Date':'2023-09-19','Open':1.23832,'High':1.24250,'Low':1.23672,'Close':1.23908},
    {'Date':'2023-09-20','Open':1.23842,'High':1.24212,'Low':1.23317,'Close':1.23428},
    {'Date':'2023-09-21','Open':1.23423,'High':1.23472,'Low':1.22342,'Close':1.22935},
    {'Date':'2023-09-22','Open':1.22940,'High':1.22967,'Low':1.22305,'Close':1.22339},
    {'Date':'2023-09-25','Open':1.22399,'High':1.22527,'Low':1.21937,'Close':1.22106},
    {'Date':'2023-09-26','Open':1.22111,'High':1.22155,'Low':1.21516,'Close':1.21577},
    {'Date':'2023-09-27','Open':1.21593,'High':1.21642,'Low':1.21103,'Close':1.21346},
    {'Date':'2023-09-28','Open':1.21349,'High':1.22246,'Low':1.21201,'Close':1.22027},
    {'Date':'2023-09-29','Open':1.21893,'High':1.22718,'Low':1.21803,'Close':1.22011},

    # ===================== 2023-10 =====================
    {'Date':'2023-10-02','Open':1.21791,'High':1.22199,'Low':1.20855,'Close':1.20864},
    {'Date':'2023-10-03','Open':1.20870,'High':1.21019,'Low':1.20523,'Close':1.20765},
    {'Date':'2023-10-04','Open':1.20681,'High':1.21769,'Low':1.20373,'Close':1.21333},
    {'Date':'2023-10-05','Open':1.21329,'High':1.21957,'Low':1.21076,'Close':1.21917},
    {'Date':'2023-10-06','Open':1.21908,'High':1.22612,'Low':1.21057,'Close':1.22346},
    {'Date':'2023-10-09','Open':1.22001,'High':1.22440,'Low':1.21630,'Close':1.22375},
    {'Date':'2023-10-10','Open':1.22368,'High':1.22915,'Low':1.22118,'Close':1.22852},
    {'Date':'2023-10-11','Open':1.22775,'High':1.23375,'Low':1.22607,'Close':1.23120},
    {'Date':'2023-10-12','Open':1.23129,'High':1.23314,'Low':1.21710,'Close':1.21742},
    {'Date':'2023-10-13','Open':1.21705,'High':1.22253,'Low':1.21224,'Close':1.21399},
    {'Date':'2023-10-16','Open':1.21380,'High':1.22191,'Low':1.21279,'Close':1.22166},
    {'Date':'2023-10-17','Open':1.22043,'High':1.22161,'Low':1.21327,'Close':1.21822},
    {'Date':'2023-10-18','Open':1.21824,'High':1.22110,'Low':1.21368,'Close':1.21406},
    {'Date':'2023-10-19','Open':1.21398,'High':1.21915,'Low':1.20899,'Close':1.21428},
    {'Date':'2023-10-20','Open':1.21424,'High':1.21700,'Low':1.20930,'Close':1.21630},
    {'Date':'2023-10-23','Open':1.21540,'High':1.22583,'Low':1.21432,'Close':1.22481},
    {'Date':'2023-10-24','Open':1.22458,'High':1.22884,'Low':1.21531,'Close':1.21589},
    {'Date':'2023-10-25','Open':1.21546,'High':1.21758,'Low':1.21068,'Close':1.21112},
    {'Date':'2023-10-26','Open':1.21112,'High':1.21394,'Low':1.20694,'Close':1.21277},
    {'Date':'2023-10-27','Open':1.21280,'High':1.21625,'Low':1.21054,'Close':1.21166},
    {'Date':'2023-10-30','Open':1.21225,'High':1.21744,'Low':1.20899,'Close':1.21622},
    {'Date':'2023-10-31','Open':1.21621,'High':1.22004,'Low':1.21195,'Close':1.21469},

    # ===================== 2023-11 =====================
    {'Date':'2023-11-01','Open':1.21468,'High':1.21643,'Low':1.20955,'Close':1.21478},
    {'Date':'2023-11-02','Open':1.21469,'High':1.22254,'Low':1.21466,'Close':1.22000},
    {'Date':'2023-11-03','Open':1.22014,'High':1.23895,'Low':1.21840,'Close':1.23788},
    {'Date':'2023-11-06','Open':1.23661,'High':1.24282,'Low':1.23375,'Close':1.23433},
    {'Date':'2023-11-07','Open':1.23440,'High':1.23480,'Low':1.22623,'Close':1.22985},
    {'Date':'2023-11-08','Open':1.22994,'High':1.23025,'Low':1.22417,'Close':1.22835},
    {'Date':'2023-11-09','Open':1.22836,'High':1.23085,'Low':1.22122,'Close':1.22214},
    {'Date':'2023-11-10','Open':1.22196,'High':1.22379,'Low':1.21868,'Close':1.22258},
    {'Date':'2023-11-13','Open':1.22039,'High':1.22798,'Low':1.21979,'Close':1.22768},
    {'Date':'2023-11-14','Open':1.22616,'High':1.25054,'Low':1.22473,'Close':1.24985},
    {'Date':'2023-11-15','Open':1.24988,'High':1.25012,'Low':1.24035,'Close':1.24144},
    {'Date':'2023-11-16','Open':1.24150,'High':1.24557,'Low':1.23762,'Close':1.24128},
    {'Date':'2023-11-17','Open':1.24114,'High':1.24642,'Low':1.23739,'Close':1.24600},
    {'Date':'2023-11-20','Open':1.24455,'High':1.25175,'Low':1.24431,'Close':1.25039},
    {'Date':'2023-11-21','Open':1.24970,'High':1.25592,'Low':1.24940,'Close':1.25373},
    {'Date':'2023-11-22','Open':1.25292,'High':1.25490,'Low':1.24488,'Close':1.24928},
    {'Date':'2023-11-23','Open':1.24899,'High':1.25743,'Low':1.24829,'Close':1.25330},
    {'Date':'2023-11-24','Open':1.25282,'High':1.26153,'Low':1.25223,'Close':1.25956},
    {'Date':'2023-11-27','Open':1.25978,'High':1.26440,'Low':1.25905,'Close':1.26264},
    {'Date':'2023-11-28','Open':1.26270,'High':1.27148,'Low':1.26068,'Close':1.26931},
    {'Date':'2023-11-29','Open':1.26898,'High':1.27326,'Low':1.26647,'Close':1.26926},
    {'Date':'2023-11-30','Open':1.26909,'High':1.27106,'Low':1.26030,'Close':1.26224},

    # ===================== 2023-12 =====================
    {'Date':'2023-12-01','Open':1.26210,'High':1.27159,'Low':1.26119,'Close':1.27096},
    {'Date':'2023-12-04','Open':1.26897,'High':1.27243,'Low':1.26038,'Close':1.26320},
    {'Date':'2023-12-05','Open':1.26321,'High':1.26515,'Low':1.25772,'Close':1.25928},
    {'Date':'2023-12-06','Open':1.25918,'High':1.26136,'Low':1.25515,'Close':1.25580},
    {'Date':'2023-12-07','Open':1.25592,'High':1.26117,'Low':1.25445,'Close':1.25918},
    {'Date':'2023-12-08','Open':1.25889,'High':1.26012,'Low':1.25025,'Close':1.25461},
    {'Date':'2023-12-11','Open':1.25436,'High':1.25909,'Low':1.25235,'Close':1.25546},
    {'Date':'2023-12-12','Open':1.25540,'High':1.26161,'Low':1.25142,'Close':1.25622},
    {'Date':'2023-12-13','Open':1.25621,'High':1.26345,'Low':1.25001,'Close':1.26176},
    {'Date':'2023-12-14','Open':1.26175,'High':1.27940,'Low':1.26101,'Close':1.27644},
    {'Date':'2023-12-15','Open':1.27649,'High':1.27905,'Low':1.26684,'Close':1.26773},
    {'Date':'2023-12-18','Open':1.26750,'High':1.27040,'Low':1.26284,'Close':1.26472},
    {'Date':'2023-12-19','Open':1.26435,'High':1.27620,'Low':1.26197,'Close':1.27297},
    {'Date':'2023-12-20','Open':1.27245,'High':1.27329,'Low':1.26241,'Close':1.26376},
    {'Date':'2023-12-21','Open':1.26302,'High':1.26957,'Low':1.26123,'Close':1.26882},
    {'Date':'2023-12-22','Open':1.26845,'High':1.27444,'Low':1.26670,'Close':1.26955},
    {'Date':'2023-12-25','Open':1.26882,'High':1.27055,'Low':1.26813,'Close':1.27020},
    {'Date':'2023-12-26','Open':1.26811,'High':1.27304,'Low':1.26808,'Close':1.27234},
    {'Date':'2023-12-27','Open':1.27131,'High':1.28029,'Low':1.26985,'Close':1.27977},
    {'Date':'2023-12-28','Open':1.27915,'High':1.28278,'Low':1.27124,'Close':1.27315},
    {'Date':'2023-12-29','Open':1.27293,'High':1.27727,'Low':1.27004,'Close':1.27301},

    # ===================== 2024-01 =====================
    {'Date':'2024-01-02','Open':1.27210,'High':1.27601,'Low':1.26107,'Close':1.26160},
    {'Date':'2024-01-03','Open':1.26149,'High':1.26767,'Low':1.26096,'Close':1.26642},
    {'Date':'2024-01-04','Open':1.26639,'High':1.27300,'Low':1.26517,'Close':1.26814},
    {'Date':'2024-01-05','Open':1.26758,'High':1.27711,'Low':1.26112,'Close':1.27176},
    {'Date':'2024-01-08','Open':1.27101,'High':1.27670,'Low':1.26734,'Close':1.27474},
    {'Date':'2024-01-09','Open':1.27467,'High':1.27649,'Low':1.26892,'Close':1.27065},
    {'Date':'2024-01-10','Open':1.27059,'High':1.27441,'Low':1.26860,'Close':1.27413},
    {'Date':'2024-01-11','Open':1.27415,'High':1.27830,'Low':1.26900,'Close':1.27530},
    {'Date':'2024-01-12','Open':1.27430,'High':1.27858,'Low':1.27193,'Close':1.27516},
    {'Date':'2024-01-15','Open':1.27327,'High':1.27653,'Low':1.27128,'Close':1.27268},
    {'Date':'2024-01-16','Open':1.27264,'High':1.27286,'Low':1.26192,'Close':1.26358},
    {'Date':'2024-01-17','Open':1.26350,'High':1.26965,'Low':1.25964,'Close':1.26759},
    {'Date':'2024-01-18','Open':1.26755,'High':1.27077,'Low':1.26480,'Close':1.27051},
    {'Date':'2024-01-19','Open':1.27056,'High':1.27147,'Low':1.26611,'Close':1.27032},
    {'Date':'2024-01-22','Open':1.26807,'High':1.27330,'Low':1.26776,'Close':1.27082},
    {'Date':'2024-01-23','Open':1.27030,'High':1.27475,'Low':1.26488,'Close':1.26858},
    {'Date':'2024-01-24','Open':1.26862,'High':1.27750,'Low':1.26630,'Close':1.27246},
    {'Date':'2024-01-25','Open':1.27233,'High':1.27428,'Low':1.26815,'Close':1.27073},
    {'Date':'2024-01-26','Open':1.27070,'High':1.27585,'Low':1.26754,'Close':1.26990},
    {'Date':'2024-01-29','Open':1.26851,'High':1.27190,'Low':1.26619,'Close':1.27074},
    {'Date':'2024-01-30','Open':1.27065,'High':1.27211,'Low':1.26400,'Close':1.26982},
    {'Date':'2024-01-31','Open':1.26981,'High':1.27509,'Low':1.26579,'Close':1.26869},

    # ===================== 2024-02 =====================
    {'Date':'2024-02-01','Open':1.26789,'High':1.27556,'Low':1.26250,'Close':1.27429},
    {'Date':'2024-02-02','Open':1.27408,'High':1.27726,'Low':1.26138,'Close':1.26302},
    {'Date':'2024-02-05','Open':1.26476,'High':1.26476,'Low':1.25181,'Close':1.25360},
    {'Date':'2024-02-06','Open':1.25322,'High':1.26030,'Low':1.25249,'Close':1.25959},
    {'Date':'2024-02-07','Open':1.25934,'High':1.26418,'Low':1.25839,'Close':1.26247},
    {'Date':'2024-02-08','Open':1.26246,'High':1.26385,'Low':1.25717,'Close':1.26170},
    {'Date':'2024-02-09','Open':1.26157,'High':1.26428,'Low':1.25989,'Close':1.26270},
    {'Date':'2024-02-12','Open':1.26169,'High':1.26547,'Low':1.26059,'Close':1.26287},
    {'Date':'2024-02-13','Open':1.26288,'High':1.26881,'Low':1.25730,'Close':1.25916},
    {'Date':'2024-02-14','Open':1.25896,'High':1.26111,'Low':1.25354,'Close':1.25620},
    {'Date':'2024-02-15','Open':1.25647,'High':1.26010,'Low':1.25405,'Close':1.25994},
    {'Date':'2024-02-16','Open':1.25961,'High':1.26245,'Low':1.25505,'Close':1.25996},
    {'Date':'2024-02-19','Open':1.25990,'High':1.26298,'Low':1.25832,'Close':1.25936},
    {'Date':'2024-02-20','Open':1.25935,'High':1.26686,'Low':1.25789,'Close':1.26215},
    {'Date':'2024-02-21','Open':1.26218,'High':1.26419,'Low':1.26025,'Close':1.26361},
    {'Date':'2024-02-22','Open':1.26348,'High':1.27096,'Low':1.26114,'Close':1.26602},
    {'Date':'2024-02-23','Open':1.26600,'High':1.27014,'Low':1.26478,'Close':1.26705},
    {'Date':'2024-02-26','Open':1.26740,'High':1.26996,'Low':1.26562,'Close':1.26828},
    {'Date':'2024-02-27','Open':1.26829,'High':1.26969,'Low':1.26601,'Close':1.26810},
    {'Date':'2024-02-28','Open':1.26841,'High':1.26867,'Low':1.26214,'Close':1.26582},
    {'Date':'2024-02-29','Open':1.26608,'High':1.26819,'Low':1.26123,'Close':1.26207},

    # ===================== 2024-03 =====================
    {'Date':'2024-03-01','Open':1.26238,'High':1.26639,'Low':1.25994,'Close':1.26509},
    {'Date':'2024-03-04','Open':1.26436,'High':1.27066,'Low':1.26436,'Close':1.26889},
    {'Date':'2024-03-05','Open':1.26907,'High':1.27348,'Low':1.26712,'Close':1.27043},
    {'Date':'2024-03-06','Open':1.27040,'High':1.27615,'Low':1.26896,'Close':1.27294},
    {'Date':'2024-03-07','Open':1.27302,'High':1.28109,'Low':1.27227,'Close':1.28069},
    {'Date':'2024-03-08','Open':1.28074,'High':1.28939,'Low':1.27997,'Close':1.28562},
    {'Date':'2024-03-11','Open':1.28523,'High':1.28620,'Low':1.27949,'Close':1.28123},
    {'Date':'2024-03-12','Open':1.28123,'High':1.28235,'Low':1.27460,'Close':1.27888},
    {'Date':'2024-03-13','Open':1.27888,'High':1.28111,'Low':1.27746,'Close':1.27955},
    {'Date':'2024-03-14','Open':1.27955,'High':1.28228,'Low':1.27306,'Close':1.27523},
    {'Date':'2024-03-15','Open':1.27523,'High':1.27585,'Low':1.27253,'Close':1.27318},
    {'Date':'2024-03-18','Open':1.27288,'High':1.27467,'Low':1.27179,'Close':1.27244},
    {'Date':'2024-03-19','Open':1.27229,'High':1.27328,'Low':1.26676,'Close':1.27185},
    {'Date':'2024-03-20','Open':1.27185,'High':1.27866,'Low':1.26844,'Close':1.27834},
    {'Date':'2024-03-21','Open':1.27816,'High':1.28033,'Low':1.26503,'Close':1.26547},
    {'Date':'2024-03-22','Open':1.26543,'High':1.26748,'Low':1.25753,'Close':1.25986},
    {'Date':'2024-03-25','Open':1.25952,'High':1.26521,'Low':1.25878,'Close':1.26356},
    {'Date':'2024-03-26','Open':1.26338,'High':1.26679,'Low':1.26218,'Close':1.26282},
    {'Date':'2024-03-27','Open':1.26258,'High':1.26408,'Low':1.26055,'Close':1.26338},
    {'Date':'2024-03-28','Open':1.26338,'High':1.26544,'Low':1.25857,'Close':1.26191},
    {'Date':'2024-03-29','Open':1.26191,'High':1.26446,'Low':1.26092,'Close':1.26167},

    # ===================== 2024-04 =====================
    {'Date':'2024-04-01','Open':1.25715,'High':1.26419,'Low':1.25394,'Close':1.25506},
    {'Date':'2024-04-02','Open':1.25509,'High':1.25782,'Low':1.25393,'Close':1.25768},
    {'Date':'2024-04-03','Open':1.25768,'High':1.26555,'Low':1.25626,'Close':1.26519},
    {'Date':'2024-04-04','Open':1.26494,'High':1.26835,'Low':1.26349,'Close':1.26415},
    {'Date':'2024-04-05','Open':1.26411,'High':1.26481,'Low':1.25746,'Close':1.26370},
    {'Date':'2024-04-08','Open':1.26250,'High':1.26637,'Low':1.26133,'Close':1.26542},
    {'Date':'2024-04-09','Open':1.26541,'High':1.27093,'Low':1.26335,'Close':1.26771},
    {'Date':'2024-04-10','Open':1.26751,'High':1.27079,'Low':1.25202,'Close':1.25394},
    {'Date':'2024-04-11','Open':1.25367,'High':1.25784,'Low':1.25108,'Close':1.25499},
    {'Date':'2024-04-12','Open':1.25518,'High':1.25584,'Low':1.24266,'Close':1.24481},
    {'Date':'2024-04-15','Open':1.24450,'High':1.24985,'Low':1.24309,'Close':1.24452},
    {'Date':'2024-04-16','Open':1.24447,'High':1.24718,'Low':1.24054,'Close':1.24260},
    {'Date':'2024-04-17','Open':1.24244,'High':1.24819,'Low':1.24168,'Close':1.24534},
    {'Date':'2024-04-18','Open':1.24510,'High':1.24843,'Low':1.24330,'Close':1.24360},
    {'Date':'2024-04-19','Open':1.24319,'High':1.24680,'Low':1.23665,'Close':1.23684},
    {'Date':'2024-04-22','Open':1.23660,'High':1.23919,'Low':1.22996,'Close':1.23493},
    {'Date':'2024-04-23','Open':1.23497,'High':1.24584,'Low':1.23316,'Close':1.24480},
    {'Date':'2024-04-24','Open':1.24434,'High':1.24698,'Low':1.24226,'Close':1.24627},
    {'Date':'2024-04-25','Open':1.24630,'High':1.25275,'Low':1.24393,'Close':1.25126},
    {'Date':'2024-04-26','Open':1.25113,'High':1.25409,'Low':1.24491,'Close':1.24927},
    {'Date':'2024-04-29','Open':1.24800,'High':1.25694,'Low':1.24618,'Close':1.25622},
    {'Date':'2024-04-30','Open':1.25623,'High':1.25637,'Low':1.24895,'Close':1.24911},

    # ===================== 2024-05 =====================
    {'Date':'2024-05-01','Open':1.24870,'High':1.25498,'Low':1.24661,'Close':1.25252},
    {'Date':'2024-05-02','Open':1.25240,'High':1.25443,'Low':1.24719,'Close':1.25334},
    {'Date':'2024-05-03','Open':1.25283,'High':1.26338,'Low':1.25075,'Close':1.25452},
    {'Date':'2024-05-06','Open':1.25440,'High':1.25943,'Low':1.25307,'Close':1.25613},
    {'Date':'2024-05-07','Open':1.25641,'High':1.25702,'Low':1.25004,'Close':1.25079},
    {'Date':'2024-05-08','Open':1.25064,'High':1.25104,'Low':1.24676,'Close':1.24973},
    {'Date':'2024-05-09','Open':1.24969,'High':1.25265,'Low':1.24458,'Close':1.25231},
    {'Date':'2024-05-10','Open':1.25228,'High':1.25410,'Low':1.25025,'Close':1.25234},
    {'Date':'2024-05-13','Open':1.25140,'High':1.25687,'Low':1.25098,'Close':1.25587},
    {'Date':'2024-05-14','Open':1.25552,'High':1.25928,'Low':1.25091,'Close':1.25909},
    {'Date':'2024-05-15','Open':1.25886,'High':1.26861,'Low':1.25737,'Close':1.26848},
    {'Date':'2024-05-16','Open':1.26844,'High':1.27004,'Low':1.26435,'Close':1.26686},
    {'Date':'2024-05-17','Open':1.26688,'High':1.27115,'Low':1.26450,'Close':1.27001},
    {'Date':'2024-05-20','Open':1.26860,'High':1.27251,'Low':1.26847,'Close':1.27055},
    {'Date':'2024-05-21','Open':1.27031,'High':1.27268,'Low':1.26864,'Close':1.27082},
    {'Date':'2024-05-22','Open':1.27070,'High':1.27613,'Low':1.27002,'Close':1.27160},
    {'Date':'2024-05-23','Open':1.27159,'High':1.27466,'Low':1.26852,'Close':1.26973},
    {'Date':'2024-05-24','Open':1.26968,'High':1.27508,'Low':1.26716,'Close':1.27364},
    {'Date':'2024-05-27','Open':1.27340,'High':1.27776,'Low':1.27269,'Close':1.27679},
    {'Date':'2024-05-28','Open':1.27683,'High':1.28006,'Low':1.27540,'Close':1.27607},
    {'Date':'2024-05-29','Open':1.27609,'High':1.27715,'Low':1.26985,'Close':1.27003},
    {'Date':'2024-05-30','Open':1.26985,'High':1.27471,'Low':1.26811,'Close':1.27316},
    {'Date':'2024-05-31','Open':1.27291,'High':1.27660,'Low':1.27002,'Close':1.27407},

    # ===================== 2024-06 =====================
    {'Date':'2024-06-03','Open':1.27335,'High':1.28080,'Low':1.26946,'Close':1.28070},
    {'Date':'2024-06-04','Open':1.28068,'High':1.28172,'Low':1.27430,'Close':1.27699},
    {'Date':'2024-06-05','Open':1.27711,'High':1.27949,'Low':1.27415,'Close':1.27857},
    {'Date':'2024-06-06','Open':1.27851,'High':1.28089,'Low':1.27627,'Close':1.27894},
    {'Date':'2024-06-07','Open':1.27836,'High':1.28115,'Low':1.27149,'Close':1.27149},
    {'Date':'2024-06-10','Open':1.27267,'High':1.27369,'Low':1.26882,'Close':1.27301},
    {'Date':'2024-06-11','Open':1.27302,'High':1.27511,'Low':1.27048,'Close':1.27397},
    {'Date':'2024-06-12','Open':1.27379,'High':1.28605,'Low':1.27266,'Close':1.27976},
    {'Date':'2024-06-13','Open':1.27976,'High':1.28076,'Low':1.27386,'Close':1.27617},
    {'Date':'2024-06-14','Open':1.27596,'High':1.27632,'Low':1.26568,'Close':1.26852},
    {'Date':'2024-06-17','Open':1.26823,'High':1.27093,'Low':1.26588,'Close':1.27043},
    {'Date':'2024-06-18','Open':1.27011,'High':1.27210,'Low':1.26688,'Close':1.27082},
    {'Date':'2024-06-19','Open':1.27074,'High':1.27399,'Low':1.26885,'Close':1.27166},
    {'Date':'2024-06-20','Open':1.27169,'High':1.27225,'Low':1.26547,'Close':1.26565},
    {'Date':'2024-06-21','Open':1.26565,'High':1.26731,'Low':1.26224,'Close':1.26405},
    {'Date':'2024-06-24','Open':1.26410,'High':1.26978,'Low':1.26295,'Close':1.26828},
    {'Date':'2024-06-25','Open':1.26829,'High':1.27025,'Low':1.26660,'Close':1.26844},
    {'Date':'2024-06-26','Open':1.26856,'High':1.26937,'Low':1.26155,'Close':1.26214},
    {'Date':'2024-06-27','Open':1.26175,'High':1.26704,'Low':1.26125,'Close':1.26388},
    {'Date':'2024-06-28','Open':1.26365,'High':1.26626,'Low':1.26196,'Close':1.26442},

    # ===================== 2024-07 =====================
    {'Date':'2024-07-01','Open':1.26510,'High':1.27092,'Low':1.26332,'Close':1.26495},
    {'Date':'2024-07-02','Open':1.26464,'High':1.26526,'Low':1.26154,'Close':1.26324},
    {'Date':'2024-07-03','Open':1.26841,'High':1.27770,'Low':1.26663,'Close':1.27410},
    {'Date':'2024-07-04','Open':1.27455,'High':1.27674,'Low':1.27299,'Close':1.27575},
    {'Date':'2024-07-05','Open':1.27585,'High':1.28170,'Low':1.27522,'Close':1.28135},
    {'Date':'2024-07-08','Open':1.27960,'High':1.28455,'Low':1.27839,'Close':1.28059},
    {'Date':'2024-07-09','Open':1.28042,'High':1.28253,'Low':1.27779,'Close':1.27854},
    {'Date':'2024-07-10','Open':1.27833,'High':1.28488,'Low':1.27788,'Close':1.28477},
    {'Date':'2024-07-11','Open':1.28476,'High':1.29487,'Low':1.28454,'Close':1.29137},
    {'Date':'2024-07-12','Open':1.29130,'High':1.29905,'Low':1.29021,'Close':1.29875},
    {'Date':'2024-07-15','Open':1.29636,'High':1.29946,'Low':1.29615,'Close':1.29666},
    {'Date':'2024-07-16','Open':1.29670,'High':1.29798,'Low':1.29383,'Close':1.29724},
    {'Date':'2024-07-17','Open':1.29727,'High':1.30440,'Low':1.29603,'Close':1.30085},
    {'Date':'2024-07-18','Open':1.30081,'High':1.30126,'Low':1.29404,'Close':1.29429},
    {'Date':'2024-07-19','Open':1.29417,'High':1.29510,'Low':1.29011,'Close':1.29112},
    {'Date':'2024-07-22','Open':1.29190,'High':1.29420,'Low':1.29047,'Close':1.29320},
    {'Date':'2024-07-23','Open':1.29313,'High':1.29349,'Low':1.28880,'Close':1.29067},
    {'Date':'2024-07-24','Open':1.29062,'High':1.29373,'Low':1.28777,'Close':1.29061},
    {'Date':'2024-07-25','Open':1.29053,'High':1.29137,'Low':1.28491,'Close':1.28505},
    {'Date':'2024-07-26','Open':1.28486,'High':1.28779,'Low':1.28470,'Close':1.28638},
    {'Date':'2024-07-29','Open':1.28590,'High':1.28881,'Low':1.28068,'Close':1.28611},
    {'Date':'2024-07-30','Open':1.28582,'High':1.28660,'Low':1.28200,'Close':1.28345},
    {'Date':'2024-07-31','Open':1.28338,'High':1.28641,'Low':1.28203,'Close':1.28550},

    # ===================== 2024-08 =====================
    {'Date':'2024-08-01','Open':1.28545,'High':1.28627,'Low':1.27267,'Close':1.27366},
    {'Date':'2024-08-02','Open':1.27391,'High':1.28399,'Low':1.27072,'Close':1.28036},
    {'Date':'2024-08-05','Open':1.28006,'High':1.28166,'Low':1.27104,'Close':1.27732},
    {'Date':'2024-08-06','Open':1.27737,'High':1.28031,'Low':1.26728,'Close':1.26906},
    {'Date':'2024-08-07','Open':1.26906,'High':1.27355,'Low':1.26628,'Close':1.26897},
    {'Date':'2024-08-08','Open':1.26852,'High':1.27523,'Low':1.26648,'Close':1.27479},
    {'Date':'2024-08-09','Open':1.27455,'High':1.27734,'Low':1.27260,'Close':1.27569},
    {'Date':'2024-08-12','Open':1.27650,'High':1.27935,'Low':1.27468,'Close':1.27649},
    {'Date':'2024-08-13','Open':1.27648,'High':1.28726,'Low':1.27580,'Close':1.28606},
    {'Date':'2024-08-14','Open':1.28619,'High':1.28682,'Low':1.28147,'Close':1.28292},
    {'Date':'2024-08-15','Open':1.28283,'High':1.28711,'Low':1.27987,'Close':1.28525},
    {'Date':'2024-08-16','Open':1.28537,'High':1.29457,'Low':1.28423,'Close':1.29425},
    {'Date':'2024-08-19','Open':1.29405,'High':1.29968,'Low':1.29204,'Close':1.29883},
    {'Date':'2024-08-20','Open':1.29835,'High':1.30522,'Low':1.29740,'Close':1.30322},
    {'Date':'2024-08-21','Open':1.30323,'High':1.31190,'Low':1.30107,'Close':1.30873},
    {'Date':'2024-08-22','Open':1.30896,'High':1.31305,'Low':1.30763,'Close':1.30895},
    {'Date':'2024-08-23','Open':1.30872,'High':1.32298,'Low':1.30837,'Close':1.32129},
    {'Date':'2024-08-26','Open':1.32070,'High':1.32218,'Low':1.31796,'Close':1.31855},
    {'Date':'2024-08-27','Open':1.31876,'High':1.32658,'Low':1.31769,'Close':1.32598},
    {'Date':'2024-08-28','Open':1.32541,'High':1.32623,'Low':1.31677,'Close':1.31901},
    {'Date':'2024-08-29','Open':1.31904,'High':1.32265,'Low':1.31451,'Close':1.31676},
    {'Date':'2024-08-30','Open':1.31682,'High':1.31995,'Low':1.31094,'Close':1.31242},

    # ===================== 2024-09 =====================
    {'Date':'2024-09-02','Open':1.31310,'High':1.31549,'Low':1.31181,'Close':1.31450},
    {'Date':'2024-09-03','Open':1.31406,'High':1.31487,'Low':1.30875,'Close':1.31118},
    {'Date':'2024-09-04','Open':1.31122,'High':1.31749,'Low':1.31008,'Close':1.31435},
    {'Date':'2024-09-05','Open':1.31440,'High':1.31850,'Low':1.31368,'Close':1.31781},
    {'Date':'2024-09-06','Open':1.31759,'High':1.32377,'Low':1.31097,'Close':1.31266},
    {'Date':'2024-09-09','Open':1.31177,'High':1.31428,'Low':1.30675,'Close':1.30729},
    {'Date':'2024-09-10','Open':1.30720,'High':1.31074,'Low':1.30492,'Close':1.30793},
    {'Date':'2024-09-11','Open':1.30789,'High':1.31110,'Low':1.30018,'Close':1.30417},
    {'Date':'2024-09-12','Open':1.30425,'High':1.31269,'Low':1.30318,'Close':1.31220},
    {'Date':'2024-09-13','Open':1.31223,'High':1.31575,'Low':1.31146,'Close':1.31212},
    {'Date':'2024-09-16','Open':1.31250,'High':1.32178,'Low':1.31167,'Close':1.32151},
    {'Date':'2024-09-17','Open':1.32141,'High':1.32293,'Low':1.31459,'Close':1.31601},
    {'Date':'2024-09-18','Open':1.31586,'High':1.32975,'Low':1.31508,'Close':1.32126},
    {'Date':'2024-09-19','Open':1.32121,'High':1.33139,'Low':1.31531,'Close':1.32834},
    {'Date':'2024-09-20','Open':1.32774,'High':1.33400,'Low':1.32678,'Close':1.33186},
    {'Date':'2024-09-23','Open':1.33182,'High':1.33589,'Low':1.32482,'Close':1.33454},
    {'Date':'2024-09-24','Open':1.33378,'High':1.34155,'Low':1.33316,'Close':1.34120},
    {'Date':'2024-09-25','Open':1.34108,'High':1.34294,'Low':1.33123,'Close':1.33226},
    {'Date':'2024-09-26','Open':1.33174,'High':1.34340,'Low':1.33111,'Close':1.34133},
    {'Date':'2024-09-27','Open':1.34100,'High':1.34271,'Low':1.33598,'Close':1.33714},
    {'Date':'2024-09-30','Open':1.33700,'High':1.34227,'Low':1.33499,'Close':1.33727},

    # ===================== 2024-10 =====================
    {'Date':'2024-10-01','Open':1.33725,'High':1.33890,'Low':1.32369,'Close':1.32848},
    {'Date':'2024-10-02','Open':1.32846,'High':1.33049,'Low':1.32457,'Close':1.32660},
    {'Date':'2024-10-03','Open':1.32671,'High':1.32824,'Low':1.30920,'Close':1.31228},
    {'Date':'2024-10-04','Open':1.31212,'High':1.31745,'Low':1.30695,'Close':1.31234},
    {'Date':'2024-10-07','Open':1.31190,'High':1.31341,'Low':1.30591,'Close':1.30814},
    {'Date':'2024-10-08','Open':1.30810,'High':1.31131,'Low':1.30640,'Close':1.31028},
    {'Date':'2024-10-09','Open':1.31023,'High':1.31043,'Low':1.30554,'Close':1.30687},
    {'Date':'2024-10-10','Open':1.30680,'High':1.30937,'Low':1.30211,'Close':1.30563},
    {'Date':'2024-10-11','Open':1.30572,'High':1.30829,'Low':1.30355,'Close':1.30620},
    {'Date':'2024-10-14','Open':1.30626,'High':1.30717,'Low':1.30298,'Close':1.30575},
    {'Date':'2024-10-15','Open':1.30507,'High':1.31026,'Low':1.30353,'Close':1.30722},
    {'Date':'2024-10-16','Open':1.30697,'High':1.30772,'Low':1.29767,'Close':1.29889},
    {'Date':'2024-10-17','Open':1.29895,'High':1.30230,'Low':1.29735,'Close':1.30087},
    {'Date':'2024-10-18','Open':1.30048,'High':1.30704,'Low':1.29985,'Close':1.30471},
    {'Date':'2024-10-21','Open':1.30469,'High':1.30576,'Low':1.29770,'Close':1.29829},
    {'Date':'2024-10-22','Open':1.29821,'High':1.30146,'Low':1.29445,'Close':1.29826},
    {'Date':'2024-10-23','Open':1.29827,'High':1.29946,'Low':1.29070,'Close':1.29200},
    {'Date':'2024-10-24','Open':1.29183,'High':1.29874,'Low':1.29085,'Close':1.29744},
    {'Date':'2024-10-25','Open':1.29746,'High':1.29983,'Low':1.29528,'Close':1.29600},
    {'Date':'2024-10-28','Open':1.29614,'High':1.30013,'Low':1.29394,'Close':1.29684},
    {'Date':'2024-10-29','Open':1.29693,'High':1.30155,'Low':1.29578,'Close':1.30070},
    {'Date':'2024-10-30','Open':1.30072,'High':1.30431,'Low':1.29364,'Close':1.29624},
    {'Date':'2024-10-31','Open':1.29627,'High':1.29994,'Low':1.28433,'Close':1.28897},

    # ===================== 2024-11 =====================
    {'Date':'2024-11-01','Open':1.28889,'High':1.29799,'Low':1.28843,'Close':1.29142},
    {'Date':'2024-11-04','Open':1.29656,'High':1.29985,'Low':1.29340,'Close':1.29564},
    {'Date':'2024-11-05','Open':1.29556,'High':1.30417,'Low':1.29479,'Close':1.30408},
    {'Date':'2024-11-06','Open':1.30386,'High':1.30476,'Low':1.28341,'Close':1.28768},
    {'Date':'2024-11-07','Open':1.28733,'High':1.30089,'Low':1.28693,'Close':1.29837},
    {'Date':'2024-11-08','Open':1.29832,'High':1.29890,'Low':1.28832,'Close':1.29163},
    {'Date':'2024-11-11','Open':1.29078,'High':1.29257,'Low':1.28559,'Close':1.28673},
    {'Date':'2024-11-12','Open':1.28653,'High':1.28733,'Low':1.27190,'Close':1.27466},
    {'Date':'2024-11-13','Open':1.27407,'High':1.27690,'Low':1.26863,'Close':1.27065},
    {'Date':'2024-11-14','Open':1.27037,'High':1.27198,'Low':1.26297,'Close':1.26639},
    {'Date':'2024-11-15','Open':1.26648,'High':1.26965,'Low':1.25969,'Close':1.26171},
    {'Date':'2024-11-18','Open':1.26169,'High':1.26864,'Low':1.25980,'Close':1.26771},
    {'Date':'2024-11-19','Open':1.26704,'High':1.26892,'Low':1.26130,'Close':1.26807},
    {'Date':'2024-11-20','Open':1.26759,'High':1.27143,'Low':1.26306,'Close':1.26487},
    {'Date':'2024-11-21','Open':1.26472,'High':1.26597,'Low':1.25762,'Close':1.25883},
    {'Date':'2024-11-22','Open':1.25886,'High':1.25939,'Low':1.24870,'Close':1.25280},
    {'Date':'2024-11-25','Open':1.25894,'High':1.26130,'Low':1.25414,'Close':1.25674},
    {'Date':'2024-11-26','Open':1.25662,'High':1.26160,'Low':1.25069,'Close':1.25675},
    {'Date':'2024-11-27','Open':1.25685,'High':1.26936,'Low':1.25659,'Close':1.26772},
    {'Date':'2024-11-28','Open':1.26729,'High':1.26908,'Low':1.26450,'Close':1.26838},
    {'Date':'2024-11-29','Open':1.26806,'High':1.27496,'Low':1.26720,'Close':1.27282},

    # ===================== 2024-12 =====================
    {'Date':'2024-12-02','Open':1.27270,'High':1.27358,'Low':1.26168,'Close':1.26479},
    {'Date':'2024-12-03','Open':1.26472,'High':1.26994,'Low':1.26366,'Close':1.26641},
    {'Date':'2024-12-04','Open':1.26645,'High':1.27211,'Low':1.26297,'Close':1.26947},
    {'Date':'2024-12-05','Open':1.26967,'High':1.27705,'Low':1.26927,'Close':1.27503},
    {'Date':'2024-12-06','Open':1.27506,'High':1.28104,'Low':1.27211,'Close':1.27355},
    {'Date':'2024-12-09','Open':1.27293,'High':1.27986,'Low':1.27168,'Close':1.27418},
    {'Date':'2024-12-10','Open':1.27379,'High':1.27774,'Low':1.27236,'Close':1.27625},
    {'Date':'2024-12-11','Open':1.27596,'High':1.27814,'Low':1.27129,'Close':1.27422},
    {'Date':'2024-12-12','Open':1.27479,'High':1.27877,'Low':1.26640,'Close':1.26644},
    {'Date':'2024-12-13','Open':1.26675,'High':1.26791,'Low':1.26080,'Close':1.26151},
    {'Date':'2024-12-16','Open':1.26160,'High':1.26984,'Low':1.26085,'Close':1.26738},
    {'Date':'2024-12-17','Open':1.26735,'High':1.27284,'Low':1.26633,'Close':1.27003},
    {'Date':'2024-12-18','Open':1.27012,'High':1.27249,'Low':1.25621,'Close':1.25646},
    {'Date':'2024-12-19','Open':1.25653,'High':1.26667,'Low':1.24924,'Close':1.24945},
    {'Date':'2024-12-20','Open':1.24962,'High':1.26136,'Low':1.24750,'Close':1.25628},
    {'Date':'2024-12-23','Open':1.25592,'High':1.25877,'Low':1.25099,'Close':1.25263},
    {'Date':'2024-12-24','Open':1.25268,'High':1.25745,'Low':1.25186,'Close':1.25289},
    {'Date':'2024-12-25','Open':1.25301,'High':1.25307,'Low':1.25291,'Close':1.25307},
    {'Date':'2024-12-26','Open':1.25514,'High':1.25520,'Low':1.25010,'Close':1.25180},
    {'Date':'2024-12-27','Open':1.25196,'High':1.25925,'Low':1.25050,'Close':1.25717},
    {'Date':'2024-12-30','Open':1.25724,'High':1.26070,'Low':1.25063,'Close':1.25379},
    {'Date':'2024-12-31','Open':1.25386,'High':1.25691,'Low':1.25040,'Close':1.25098},

    # ===================== 2025-01 =====================
    {'Date':'2025-01-02','Open':1.25120,'High':1.25403,'Low':1.23527,'Close':1.23677},
    {'Date':'2025-01-03','Open':1.23629,'High':1.24339,'Low':1.23629,'Close':1.24176},
    {'Date':'2025-01-06','Open':1.24124,'High':1.25508,'Low':1.24078,'Close':1.25113},
    {'Date':'2025-01-07','Open':1.25137,'High':1.25686,'Low':1.24677,'Close':1.24689},
    {'Date':'2025-01-08','Open':1.24702,'High':1.24937,'Low':1.23208,'Close':1.23527},
]

############################################################################
# 2) PREP THE DATA
############################################################################

def load_full_2024_data():
    """
    Create a DataFrame from the entire train_data array (2023-01-02 -> 2025-01-02).
    We'll keep the function name 'load_full_2024_data' for consistency,
    even though it now holds data spanning 2023 -> 2025.

    We'll drop 'Mid' since it's not used, then we add advanced 'strategy' columns:
      - 'LiquiditySweep' (bool)
      - 'FairValueGap'   (bool)
      - 'OrderBlock'     (bool)
      - 'ATR-based'      (float)
    etc.

    This is a simplified demonstration.
    """
    df = pd.DataFrame(train_data)
    df['Date'] = pd.to_datetime(df['Date'])
    df.set_index('Date', inplace=True)
    df.sort_index(inplace=True)

    # Add advanced structure features (mock-up placeholders).
    df = add_advanced_market_structure(df)
    return df

def add_advanced_market_structure(df):
    """
    This function demonstrates how you might incorporate
    advanced “price action” or “strategy-based” features
    into your dataset for the ML model.

    We'll create a few columns:
    - 'LiquiditySweep': 1 if today's Low breaks the previous Low, then closes back up
    - 'FairValueGap':   1 if there's a gap between today's Low and previous High
    - 'OrderBlock':     1 if we have a big impulsive move from a previous candle
    - 'ATR': a rough measure of volatility

    In actual practice, you'd refine the detection logic
    for each concept:
      * Checking wicks above/below key levels
      * Identifying multi-candle patterns
      * FVG detection using actual gap scanning
      * Etc.
    """
    df['LiquiditySweep'] = 0
    df['FairValueGap']   = 0
    df['OrderBlock']     = 0
    df['ATR']            = 0.0

    # We'll do a naive approach just to illustrate:

    # 1) ATR calculation (14-day naive ATR)
    #    ATR ~ average of (High - Low)
    df['Range'] = df['High'] - df['Low']
    df['ATR'] = df['Range'].rolling(window=14, min_periods=1).mean()

    # 2) Identify if today's Low is lower than yesterday's Low, but we closed above yesterday's Close => "Liquidity sweep"
    #    We'll start from second row onward
    df['prevLow']   = df['Low'].shift(1)
    df['prevClose'] = df['Close'].shift(1)
    condition_liquidity = (df['Low'] < df['prevLow']) & (df['Close'] > df['prevClose'])
    df.loc[condition_liquidity, 'LiquiditySweep'] = 1

    # 3) Identify naive "FairValueGap" if today's Low is above yesterday's High => gap
    df['prevHigh'] = df['High'].shift(1)
    condition_fvg = (df['Low'] > df['prevHigh'])
    df.loc[condition_fvg, 'FairValueGap'] = 1

    # 4) "OrderBlock" placeholder: if a candle is 2x bigger (range) than the 5-day average => we label it as an “impulsive” candle => OB
    df['AvgRange_5'] = df['Range'].rolling(window=5, min_periods=1).mean()
    condition_ob = (df['Range'] > 2.0 * df['AvgRange_5'])
    df.loc[condition_ob, 'OrderBlock'] = 1

    # Drop temp columns used for intermediate calculations
    df.drop(columns=['Range','prevLow','prevClose','prevHigh','AvgRange_5'], inplace=True)

    return df

def clean_data(df):
    """
    Simple cleaning: sort, remove duplicates, drop NaN if any exist.
    We'll keep the advanced columns as part of the dataset now.
    """
    df.sort_index(inplace=True)
    df = df[~df.index.duplicated(keep='first')]
    df.dropna(inplace=True)
    return df

############################################################################
# 3) BUILD DATASET (multi-window, single-step)
############################################################################

def build_dataset(df, w_max=5):
    """
    We'll do single-step next-day forecasting:
      X = flattened last w days of O,H,L,C + new 'strategy' features
      Y = next day's [Low, High, Close]

    We'll gather multiple windows: w=1..w_max.
    Each day’s advanced columns (LiquiditySweep, FairValueGap, OrderBlock, ATR)
    are also included for each day in the window.

    Return X, Y, plus meta_info for reference.
    """
    # The main OHLC columns
    df_np_ohlc = df[['Open','High','Low','Close']].values
    # The advanced strategy columns
    df_np_strat = df[['LiquiditySweep','FairValueGap','OrderBlock','ATR']].values

    dates = df.index.to_list()
    n = len(df_np_ohlc)

    # We'll store all training samples in these lists.
    X_list, Y_list, info_list = [], [], []

    # For each day in the window, we have 4 OHLC + 4 strategy = 8 columns
    # So for w days, that's w * 8 columns total
    num_cols_per_day = 8
    max_len = w_max * num_cols_per_day

    for w in range(1, w_max+1):
        for t in range(w, n):
            if t >= n:
                break
            # Collect last w days for OHLC + strategies
            # shape (w, 8)
            slice_ohlc = df_np_ohlc[t-w : t, :]
            slice_strat= df_np_strat[t-w : t, :]
            window_data = np.hstack([slice_ohlc, slice_strat])  # shape (w,8)

            # Flatten that window
            window_flat = window_data.flatten()

            # Pad if needed so all features have consistent length
            padded = np.zeros(max_len, dtype=float)
            start_idx = max_len - len(window_flat)
            padded[start_idx:] = window_flat

            # Next-day’s O,H,L,C is day t
            future_day = df_np_ohlc[t]   # shape(4,)
            day_low   = future_day[2]
            day_high  = future_day[1]
            day_close = future_day[3]
            target = np.array([day_low, day_high, day_close], dtype=float)

            # Optionally embed w as a feature
            feature = np.concatenate([padded, [float(w)]], axis=0)

            X_list.append(feature)
            Y_list.append(target)
            info_list.append((w, dates[t]))

    X = np.array(X_list, dtype=float)
    Y = np.array(Y_list, dtype=float)
    return X, Y, info_list

############################################################################
# 4) TRAIN MODEL (MultiOutputRegressor w/ LinearRegression)
############################################################################

from sklearn.multioutput import MultiOutputRegressor
from sklearn.linear_model import LinearRegression

def train_model(X, Y):
    """
    Train a multi-output regressor (LinearRegression).
    Potentially you could add further pipeline steps,
    e.g. scaling, cross-validation, or even a more
    advanced regressor. But we’ll keep it as is.
    """
    base = LinearRegression()
    model = MultiOutputRegressor(base)
    model.fit(X, Y)
    return model

############################################################################
# 5) PREDICT THE NEXT DAY (2025-01-03)
############################################################################

def predict_next_trading_day(df, model, w_max=5):
    """
    We'll define the 'latest day' in df as 2025-01-02 (the last row).
    We gather the last w_max rows of OHLC + advanced columns, flatten,
    and predict day 2025-01-03.

    We replicate the same process as build_dataset, but only for the
    final w_max days. Then feed the flattened/padded vector to the model.
    """
    # We'll slice the final w_max rows
    recent_ohlc   = df[['Open','High','Low','Close']].tail(w_max).values
    recent_strat  = df[['LiquiditySweep','FairValueGap','OrderBlock','ATR']].tail(w_max).values
    # shape (w_max, 4), shape (w_max, 4) => combined (w_max,8)
    combined_block = []
    for i in range(w_max):
        row_ohlc  = recent_ohlc[i]
        row_strat = recent_strat[i]
        row_comb  = np.hstack([row_ohlc, row_strat])  # shape(8,)
        combined_block.append(row_comb)
    combined_block = np.array(combined_block)  # shape(w_max,8)

    window_flat = combined_block.flatten()

    # same dimension as in build_dataset
    num_cols_per_day = 8
    max_len = w_max * num_cols_per_day

    padded = np.zeros(max_len, dtype=float)
    start_idx = max_len - len(window_flat)
    padded[start_idx:] = window_flat

    # Add the (float(w_max)) at the end
    final_feature = np.concatenate([padded, [float(w_max)]], axis=0).reshape(1, -1)

    pred = model.predict(final_feature)[0]  # shape (3,)
    pred_low, pred_high, pred_close = pred
    return pred_low, pred_high, pred_close

############################################################################
# 6) MAIN: Tying it all together
############################################################################

def main():
    """
    This main function loads the data, cleans it, integrates
    advanced strategies (liquidity sweeps, FVG, order blocks, ATR),
    builds a multi-window dataset for next-day forecasting,
    trains the MultiOutputRegressor(LinearRegression),
    then predicts the next day after 2025-01-02 (which is 2025-01-03).
    """
    # 1) Load + advanced columns
    df_2024 = load_full_2024_data()

    # 2) Clean
    df_2024 = clean_data(df_2024)

    # We'll exclude the final row (the day 2025-01-02) from training,
    # so that row is only used for the model’s next-day forecast
    final_index = df_2024.index[-1]
    df_train = df_2024.iloc[:-1].copy()
    print(f"Training on {len(df_train)} rows. Final row excluded: {final_index}")

    # 3) Build dataset (multi-window approach)
    X, Y, info = build_dataset(df_train, w_max=5)
    print(f"Dataset shapes: X={X.shape}, Y={Y.shape}")
    print("Sample info last 5:\n", info[-5:])

    # 4) Train the model
    model = train_model(X, Y)
    print("Model training complete.")

    # 5) Predict next day => 2025-01-03
    pred_low, pred_high, pred_close = predict_next_trading_day(df_2024, model, w_max=5)

    print("\n=== PREDICTION FOR 2025-01-07 ===")
    print(f"Predicted Low:   {pred_low:.5f}")
    print(f"Predicted High:  {pred_high:.5f}")
    print(f"Predicted Close: {pred_close:.5f}")

    # 6) Summarize how the advanced concepts are being used
    print("\n--- Integrated Strategy Concepts ---")
    print("We have columns for LiquiditySweep, FairValueGap, OrderBlock, ATR in the dataset,")
    print("which attempt to capture advanced price action signals and volatility.")
    print("These features are included in the input window for each day, hopefully helping")
    print("the model refine its next-day predictions beyond simple OHLC data alone.\n")

if __name__ == "__main__":
    main()
